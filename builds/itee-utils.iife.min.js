this.Itee=this.Itee||{},this.Itee.Utils=function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}function n(e){return e&&e.default||e}var i=r(function(e){!function(t,r,n){e.exports?e.exports=r():n.IDBStore=r()}(0,function(){var e=function(e){throw e},t=function(){},r={storeName:"Store",storePrefix:"IDBWrapper-",dbVersion:1,keyPath:"id",autoIncrement:!0,onStoreReady:function(){},onError:e,indexes:[],implementationPreference:["indexedDB","webkitIndexedDB","mozIndexedDB","shimIndexedDB"]},n=function(e,t){for(var n in void 0===t&&"function"==typeof e&&(t=e),"[object Object]"!=Object.prototype.toString.call(e)&&(e={}),r)this[n]=void 0!==e[n]?e[n]:r[n];this.dbName=this.storePrefix+this.storeName,this.dbVersion=parseInt(this.dbVersion,10)||1,t&&(this.onStoreReady=t);var i="object"==typeof window?window:self,o=this.implementationPreference.filter(function(e){return e in i});this.implementation=o[0],this.idb=i[this.implementation],this.keyRange=i.IDBKeyRange||i.webkitIDBKeyRange||i.mozIDBKeyRange,this.consts={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange",NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"},this.openDB()},i={constructor:n,version:"1.7.2",db:null,dbName:null,dbVersion:null,store:null,storeName:null,storePrefix:null,keyPath:null,autoIncrement:null,indexes:null,implementationPreference:null,implementation:"",onStoreReady:null,onError:null,_insertIdCount:0,openDB:function(){var e=this.idb.open(this.dbName,this.dbVersion),t=!1;e.onerror=function(e){if(function(e){if("error"in e.target)return"VersionError"==e.target.error.name;if("errorCode"in e.target)return 12==e.target.errorCode;return!1}(e))this.onError(new Error("The version number provided is lower than the existing one."));else{var t;if(e.target.error)t=e.target.error;else{var r="IndexedDB unknown error occurred when opening DB "+this.dbName+" version "+this.dbVersion;"errorCode"in e.target&&(r+=" with error code "+e.target.errorCode),t=new Error(r)}this.onError(t)}}.bind(this),e.onsuccess=function(e){if(!t)if(this.db)this.onStoreReady();else if(this.db=e.target.result,"string"!=typeof this.db.version)if(this.db.objectStoreNames.contains(this.storeName)){var r=this.db.transaction([this.storeName],this.consts.READ_ONLY);this.store=r.objectStore(this.storeName);var n=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(e){var r=e.name;if(!r)return t=!0,void this.onError(new Error("Cannot create index: No index name given."));if(this.normalizeIndexData(e),this.hasIndex(r)){var i=this.store.index(r);this.indexComplies(i,e)||(t=!0,this.onError(new Error('Cannot modify index "'+r+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),n.splice(n.indexOf(r),1)}else t=!0,this.onError(new Error('Cannot create new index "'+r+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))},this),n.length&&(t=!0,this.onError(new Error('Cannot delete index(es) "'+n.toString()+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),t||this.onStoreReady()}else this.onError(new Error("Object store couldn't be created."));else this.onError(new Error("The IndexedDB implementation in this browser is outdated. Please upgrade your browser."))}.bind(this),e.onupgradeneeded=function(e){if(this.db=e.target.result,this.db.objectStoreNames.contains(this.storeName))this.store=e.target.transaction.objectStore(this.storeName);else{var r={autoIncrement:this.autoIncrement};null!==this.keyPath&&(r.keyPath=this.keyPath),this.store=this.db.createObjectStore(this.storeName,r)}var n=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(e){var r=e.name;if(r||(t=!0,this.onError(new Error("Cannot create index: No index name given."))),this.normalizeIndexData(e),this.hasIndex(r)){var i=this.store.index(r);this.indexComplies(i,e)||(this.store.deleteIndex(r),this.store.createIndex(r,e.keyPath,{unique:e.unique,multiEntry:e.multiEntry})),n.splice(n.indexOf(r),1)}else this.store.createIndex(r,e.keyPath,{unique:e.unique,multiEntry:e.multiEntry})},this),n.length&&n.forEach(function(e){this.store.deleteIndex(e)},this)}.bind(this)},deleteDatabase:function(e,t){if(this.idb.deleteDatabase){this.db.close();var r=this.idb.deleteDatabase(this.dbName);r.onsuccess=e,r.onerror=t}else t(new Error("Browser does not support IndexedDB deleteDatabase!"))},put:function(r,n,i,o){null!==this.keyPath&&(o=i,i=n,n=r),o||(o=e),i||(i=t);var s,a=!1,u=null,c=this.db.transaction([this.storeName],this.consts.READ_WRITE);return c.oncomplete=function(){(a?i:o)(u)},c.onabort=o,c.onerror=o,null!==this.keyPath?(this._addIdPropertyIfNeeded(n),s=c.objectStore(this.storeName).put(n)):s=c.objectStore(this.storeName).put(n,r),s.onsuccess=function(e){a=!0,u=e.target.result},s.onerror=o,c},get:function(r,n,i){i||(i=e),n||(n=t);var o=!1,s=null,a=this.db.transaction([this.storeName],this.consts.READ_ONLY);a.oncomplete=function(){(o?n:i)(s)},a.onabort=i,a.onerror=i;var u=a.objectStore(this.storeName).get(r);return u.onsuccess=function(e){o=!0,s=e.target.result},u.onerror=i,a},remove:function(r,n,i){i||(i=e),n||(n=t);var o=!1,s=null,a=this.db.transaction([this.storeName],this.consts.READ_WRITE);a.oncomplete=function(){(o?n:i)(s)},a.onabort=i,a.onerror=i;var u=a.objectStore(this.storeName).delete(r);return u.onsuccess=function(e){o=!0,s=e.target.result},u.onerror=i,a},batch:function(r,n,i){if(i||(i=e),n||(n=t),"[object Array]"!=Object.prototype.toString.call(r))i(new Error("dataArray argument must be of type Array."));else if(0===r.length)return n(!0);var o=r.length,s=!1,a=!1,u=this.db.transaction([this.storeName],this.consts.READ_WRITE);u.oncomplete=function(){(a?n:i)(a)},u.onabort=i,u.onerror=i;var c=function(){0!==--o||s||(s=!0,a=!0)};return r.forEach(function(e){var t=e.type,r=e.key,n=e.value,o=function(e){u.abort(),s||(s=!0,i(e,t,r))};if("remove"==t){var a=u.objectStore(this.storeName).delete(r);a.onsuccess=c,a.onerror=o}else if("put"==t){var f;null!==this.keyPath?(this._addIdPropertyIfNeeded(n),f=u.objectStore(this.storeName).put(n)):f=u.objectStore(this.storeName).put(n,r),f.onsuccess=c,f.onerror=o}},this),u},putBatch:function(e,t,r){var n=e.map(function(e){return{type:"put",value:e}});return this.batch(n,t,r)},upsertBatch:function(r,n,i,o){"function"==typeof n&&(o=i=n,n={}),o||(o=e),i||(i=t),n||(n={}),"[object Array]"!=Object.prototype.toString.call(r)&&o(new Error("dataArray argument must be of type Array."));var s=n.keyField||this.keyPath,a=r.length,u=!1,c=!1,f=0,l=this.db.transaction([this.storeName],this.consts.READ_WRITE);l.oncomplete=function(){c?i(r):o(!1)},l.onabort=o,l.onerror=o;var h=function(e){r[f++][s]=e.target.result,0!==--a||u||(u=!0,c=!0)};return r.forEach(function(e){var t,r=e.key;null!==this.keyPath?(this._addIdPropertyIfNeeded(e),t=l.objectStore(this.storeName).put(e)):t=l.objectStore(this.storeName).put(e,r),t.onsuccess=h,t.onerror=function(e){l.abort(),u||(u=!0,o(e))}},this),l},removeBatch:function(e,t,r){var n=e.map(function(e){return{type:"remove",key:e}});return this.batch(n,t,r)},getBatch:function(r,n,i,o){if(i||(i=e),n||(n=t),o||(o="sparse"),"[object Array]"!=Object.prototype.toString.call(r))i(new Error("keyArray argument must be of type Array."));else if(0===r.length)return n([]);var s=[],a=r.length,u=!1,c=null,f=this.db.transaction([this.storeName],this.consts.READ_ONLY);f.oncomplete=function(){(u?n:i)(c)},f.onabort=i,f.onerror=i;var l=function(e){e.target.result||"dense"==o?s.push(e.target.result):"sparse"==o&&s.length++,0===--a&&(u=!0,c=s)};return r.forEach(function(e){var t=f.objectStore(this.storeName).get(e);t.onsuccess=l,t.onerror=function(e){c=e,i(e),f.abort()}},this),f},getAll:function(r,n){n||(n=e),r||(r=t);var i=this.db.transaction([this.storeName],this.consts.READ_ONLY),o=i.objectStore(this.storeName);return o.getAll?this._getAllNative(i,o,r,n):this._getAllCursor(i,o,r,n),i},_getAllNative:function(e,t,r,n){var i=!1,o=null;e.oncomplete=function(){(i?r:n)(o)},e.onabort=n,e.onerror=n;var s=t.getAll();s.onsuccess=function(e){i=!0,o=e.target.result},s.onerror=n},_getAllCursor:function(e,t,r,n){var i=[],o=!1,s=null;e.oncomplete=function(){(o?r:n)(s)},e.onabort=n,e.onerror=n;var a=t.openCursor();a.onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):(o=!0,s=i)},a.onError=n},clear:function(r,n){n||(n=e),r||(r=t);var i=!1,o=null,s=this.db.transaction([this.storeName],this.consts.READ_WRITE);s.oncomplete=function(){(i?r:n)(o)},s.onabort=n,s.onerror=n;var a=s.objectStore(this.storeName).clear();return a.onsuccess=function(e){i=!0,o=e.target.result},a.onerror=n,s},_addIdPropertyIfNeeded:function(e){void 0===e[this.keyPath]&&(e[this.keyPath]=this._insertIdCount+++Date.now())},getIndexList:function(){return this.store.indexNames},hasIndex:function(e){return this.store.indexNames.contains(e)},normalizeIndexData:function(e){e.keyPath=e.keyPath||e.name,e.unique=!!e.unique,e.multiEntry=!!e.multiEntry},indexComplies:function(e,t){return["keyPath","unique","multiEntry"].every(function(r){if("multiEntry"==r&&void 0===e[r]&&!1===t[r])return!0;if("keyPath"==r&&"[object Array]"==Object.prototype.toString.call(t[r])){var n=t.keyPath,i=e.keyPath;if("string"==typeof i)return n.toString()==i;if("function"!=typeof i.contains&&"function"!=typeof i.indexOf)return!1;if(i.length!==n.length)return!1;for(var o=0,s=n.length;o<s;o++)if(!(i.contains&&i.contains(n[o])||i.indexOf(-1!==n[o])))return!1;return!0}return t[r]==e[r]})},iterate:function(t,r){var n="desc"==(r=s({index:null,order:"ASC",autoContinue:!0,filterDuplicates:!1,keyRange:null,writeAccess:!1,onEnd:null,onError:e,limit:1/0,offset:0,allowItemRejection:!1},r||{})).order.toLowerCase()?"PREV":"NEXT";r.filterDuplicates&&(n+="_NO_DUPLICATE");var i=!1,o=this.db.transaction([this.storeName],this.consts[r.writeAccess?"READ_WRITE":"READ_ONLY"]),a=o.objectStore(this.storeName);r.index&&(a=a.index(r.index));var u=0;o.oncomplete=function(){i?r.onEnd?r.onEnd():t(null):r.onError(null)},o.onabort=r.onError,o.onerror=r.onError;var c=a.openCursor(r.keyRange,this.consts[n]);return c.onerror=r.onError,c.onsuccess=function(e){var n=e.target.result;if(n)if(r.offset)n.advance(r.offset),r.offset=0;else{var s=t(n.value,n,o);r.allowItemRejection&&!1===s||u++,r.autoContinue&&(u+r.offset<r.limit?n.continue():i=!0)}else i=!0},o},query:function(e,t){var r=[],n=0;return(t=t||{}).autoContinue=!0,t.writeAccess=!1,t.allowItemRejection=!!t.filter,t.onEnd=function(){e(r,n)},this.iterate(function(e){n++;var i=!t.filter||t.filter(e);return!1!==i&&r.push(e),i},t)},count:function(t,r){var n=(r=s({index:null,keyRange:null},r||{})).onError||e,i=!1,o=null,a=this.db.transaction([this.storeName],this.consts.READ_ONLY);a.oncomplete=function(){(i?t:n)(o)},a.onabort=n,a.onerror=n;var u=a.objectStore(this.storeName);r.index&&(u=u.index(r.index));var c=u.count(r.keyRange);return c.onsuccess=function(e){i=!0,o=e.target.result},c.onError=n,a},makeKeyRange:function(e){var t,r=void 0!==e.lower,n=void 0!==e.upper;switch(!0){case void 0!==e.only:t=this.keyRange.only(e.only);break;case r&&n:t=this.keyRange.bound(e.lower,e.upper,e.excludeLower,e.excludeUpper);break;case r:t=this.keyRange.lowerBound(e.lower,e.excludeLower);break;case n:t=this.keyRange.upperBound(e.upper,e.excludeUpper);break;default:throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.')}return t}},o={};function s(e,t){var r,n;for(r in t)(n=t[r])!==o[r]&&n!==e[r]&&(e[r]=n);return e}return n.prototype=i,n.version=i.version,n},t)}),o=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e};function s(e){this.db=e,this._ended=!1,this._nexting=!1}s.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next(function(){t._nexting=!1,e.apply(null,arguments)}):void process.nextTick(function(){t._nexting=!1,e()}))},s.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))};var a=s;function u(e){this._db=e,this._operations=[],this._written=!1}u.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},u.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(r)throw r;if(r=this._db._checkKeyValue(t,"value",this._db._isBuffer))throw r;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},u.prototype.del=function(e){this._checkWritten();var t=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(t)throw t;return this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},u.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},u.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)};var c=u;function f(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e}f.prototype.open=function(e,t){if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");if("object"!=typeof e&&(e={}),"function"==typeof this._open)return this._open(e,t);process.nextTick(t)},f.prototype.close=function(e){if("function"!=typeof e)throw new Error("close() requires a callback argument");if("function"==typeof this._close)return this._close(e);process.nextTick(e)},f.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKeyValue(e,"key",this._isBuffer))?r(n):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._get?this._get(e,t,r):void process.nextTick(function(){r(new Error("NotFound"))}))},f.prototype.put=function(e,t,r,n){var i;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(i=this._checkKeyValue(e,"key",this._isBuffer))?n(i):(i=this._checkKeyValue(t,"value",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||process.browser||(t=String(t)),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},f.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKeyValue(e,"key",this._isBuffer))?r(n):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},f.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));"object"!=typeof t&&(t={});for(var n,i,o=0,s=e.length;o<s;o++)if("object"==typeof(n=e[o])){if(i=this._checkKeyValue(n.type,"type",this._isBuffer))return r(i);if(i=this._checkKeyValue(n.key,"key",this._isBuffer))return r(i);if("put"==n.type&&(i=this._checkKeyValue(n.value,"value",this._isBuffer)))return r(i)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},f.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||(t=String(t)),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick(function(){r(null,0)})},f.prototype._setupIteratorOptions=function(e){var t=this;return e=o(e),["start","end","gt","gte","lt","lte"].forEach(function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]}),e.reverse=!!e.reverse,e.reverse&&e.lt&&(e.start=e.lt),e.reverse&&e.lte&&(e.start=e.lte),!e.reverse&&e.gt&&(e.start=e.gt),!e.reverse&&e.gte&&(e.start=e.gte),(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)&&(e.exclusiveStart=!0),e},f.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},f.prototype._chainedBatch=function(){return new c(this)},f.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},f.prototype._checkKeyValue=function(e,t){if(null==e)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")};var l={AbstractLevelDOWN:f,AbstractIterator:a,AbstractChainedBatch:c};function h(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}var p=h,g=d;function b(e){if(p===setTimeout)return setTimeout(e,0);if((p===h||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}"function"==typeof global.setTimeout&&(p=setTimeout),"function"==typeof global.clearTimeout&&(g=clearTimeout);var y,v=[],w=!1,m=-1;function _(){w&&y&&(w=!1,y.length?v=y.concat(v):m=-1,v.length&&E())}function E(){if(!w){var e=b(_);w=!0;for(var t=v.length;t;){for(y=v,v=[];++m<t;)y&&y[m].run();m=-1,t=v.length}y=null,w=!1,function(e){if(g===clearTimeout)return clearTimeout(e);if((g===d||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}(e)}}function k(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];v.push(new S(e,t)),1!==v.length||w||b(E)}function S(e,t){this.fun=e,this.array=t}S.prototype.run=function(){this.fun.apply(null,this.array)};var x=global.performance||{},R=(x.now||x.mozNow||x.msNow||x.oNow||x.webkitNow,"function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}),T=/%[sdj%]/g;function j(e){if(!V(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(M(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(T,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])q(s)||!$(s)?o+=" "+s:o+=" "+M(s);return o}function B(e,t){if(Y(global.process))return function(){return B(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var O,A={};function L(e){if(Y(O)&&(O=""),e=e.toUpperCase(),!A[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){A[e]=function(){var t=j.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else A[e]=function(){};return A[e]}function M(e,t){var r={seen:[],stylize:C};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),W(t)?r.showHidden=t:t&&ie(r,t),Y(r.showHidden)&&(r.showHidden=!1),Y(r.depth)&&(r.depth=2),Y(r.colors)&&(r.colors=!1),Y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=D),I(r,e,r.depth)}function D(e,t){var r=M.styles[t];return r?"["+M.colors[r][0]+"m"+e+"["+M.colors[r][1]+"m":e}function C(e,t){return e}function I(e,t,r){if(e.customInspect&&t&&J(t.inspect)&&t.inspect!==M&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return V(n)||(n=I(e,n,r)),n}var i=function(e,t){if(Y(t))return e.stylize("undefined","undefined");if(V(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(z(t))return e.stylize(""+t,"number");if(W(t))return e.stylize(""+t,"boolean");if(q(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),X(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return N(t);if(0===o.length){if(J(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(H(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(G(t))return e.stylize(Date.prototype.toString.call(t),"date");if(X(t))return N(t)}var u,c="",f=!1,l=["{","}"];(U(t)&&(f=!0,l=["[","]"]),J(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return H(t)&&(c=" "+RegExp.prototype.toString.call(t)),G(t)&&(c=" "+Date.prototype.toUTCString.call(t)),X(t)&&(c=" "+N(t)),0!==o.length||f&&0!=t.length?r<0?H(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)oe(t,String(s))?o.push(P(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(P(e,t,r,n,i,!0))}),o}(e,t,r,s,o):o.map(function(n){return P(e,t,r,s,n,f)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,c,l)):l[0]+c+l[1]}function N(e){return"["+Error.prototype.toString.call(e)+"]"}function P(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),oe(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=q(r)?I(e,u.value,null):I(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),Y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function U(e){return Array.isArray(e)}function W(e){return"boolean"==typeof e}function q(e){return null===e}function F(e){return null==e}function z(e){return"number"==typeof e}function V(e){return"string"==typeof e}function K(e){return"symbol"==typeof e}function Y(e){return void 0===e}function H(e){return $(e)&&"[object RegExp]"===ee(e)}function $(e){return"object"==typeof e&&null!==e}function G(e){return $(e)&&"[object Date]"===ee(e)}function X(e){return $(e)&&("[object Error]"===ee(e)||e instanceof Error)}function J(e){return"function"==typeof e}function Z(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Q(e){return Buffer.isBuffer(e)}function ee(e){return Object.prototype.toString.call(e)}function te(e){return e<10?"0"+e.toString(10):e.toString(10)}M.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},M.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(){var e,t;console.log("%s - %s",(e=new Date,t=[te(e.getHours()),te(e.getMinutes()),te(e.getSeconds())].join(":"),[e.getDate(),re[e.getMonth()],t].join(" ")),j.apply(null,arguments))}function ie(e,t){if(!t||!$(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function oe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var se={inherits:R,_extend:ie,log:ne,isBuffer:Q,isPrimitive:Z,isFunction:J,isError:X,isDate:G,isObject:$,isRegExp:H,isUndefined:Y,isSymbol:K,isString:V,isNumber:z,isNullOrUndefined:F,isNull:q,isBoolean:W,isArray:U,inspect:M,deprecate:B,format:j,debuglog:L},ae=Object.freeze({format:j,deprecate:B,debuglog:L,inspect:M,isArray:U,isBoolean:W,isNull:q,isNullOrUndefined:F,isNumber:z,isString:V,isSymbol:K,isUndefined:Y,isRegExp:H,isObject:$,isDate:G,isError:X,isFunction:J,isPrimitive:Z,isBuffer:Q,log:ne,inherits:R,_extend:ie,default:se}),ue=r(function(e,t){function r(e){return void 0!==e&&""!==e}function n(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(e,t){if(Buffer.isBuffer(e)){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]-t[n];if(i)return i}return e.length-t.length}return e<t?-1:e>t?1:0};var o=t.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||(e.reverse?i(e,"end"):i(e,"start"))||void 0},s=t.lowerBound=function(e,t){var r=o(e);return r?e[r]:t},a=t.lowerBoundInclusive=function(e){return!n(e,"gt")},u=t.upperBoundInclusive=function(e){return!n(e,"lt")},c=t.lowerBoundExclusive=function(e){return!a(e)},f=t.upperBoundExclusive=function(e){return!u(e)},l=t.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||(e.reverse?i(e,"start"):i(e,"end"))||void 0},h=t.upperBound=function(e,t){var r=l(e);return r?e[r]:t};function d(e){return e}t.start=function(e,t){return e.reverse?h(e,t):s(e,t)},t.end=function(e,t){return e.reverse?s(e,t):h(e,t)},t.startInclusive=function(e){return e.reverse?u(e):a(e)},t.endInclusive=function(e){return e.reverse?a(e):u(e)},t.toLtgt=function(e,r,i,o,s){r=r||{},i=i||d;var a=arguments.length>3,u=t.lowerBoundKey(e),c=t.upperBoundKey(e);return u?"gt"===u?r.gt=i(e.gt,!1):r.gte=i(e[u],!1):a&&(r.gte=i(o,!1)),c?"lt"===c?r.lt=i(e.lt,!0):r.lte=i(e[c],!0):a&&(r.lte=i(s,!0)),null!=e.reverse&&(r.reverse=!!e.reverse),n(r,"max")&&delete r.max,n(r,"min")&&delete r.min,n(r,"start")&&delete r.start,n(r,"end")&&delete r.end,r},t.contains=function(e,n,i){i=i||t.compare;var o=s(e);if(r(o)&&((a=i(n,o))<0||0===a&&c(e)))return!1;var a,u=h(e);if(r(u)&&((a=i(n,u))>0||0===a&&f(e)))return!1;return!0},t.filter=function(e,r){return function(n){return t.contains(e,n,r)}}}),ce=(ue.compare,ue.lowerBoundKey,ue.lowerBound,ue.lowerBoundInclusive,ue.upperBoundInclusive,ue.lowerBoundExclusive,ue.upperBoundExclusive,ue.upperBoundKey,ue.upperBound,ue.start,ue.end,ue.startInclusive,ue.endInclusive,ue.toLtgt,ue.contains,ue.filter,n(ae)),fe=l.AbstractIterator,le=he;function he(e,t){t||(t={}),this.options=t,fe.call(this,e),this._order=t.reverse?"DESC":"ASC",this._limit=t.limit,this._count=0,this._done=!1;var r=ue.lowerBound(t),n=ue.upperBound(t);try{this._keyRange=r||n?this.db.makeKeyRange({lower:r,upper:n,excludeLower:ue.lowerBoundExclusive(t),excludeUpper:ue.upperBoundExclusive(t)}):null}catch(e){this._keyRangeError=!0}this.callback=null}ce.inherits(he,fe),he.prototype.createIterator=function(){var e=this;e.iterator=e.db.iterate(function(){e.onItem.apply(e,arguments)},{keyRange:e._keyRange,autoContinue:!1,order:e._order,onError:function(e){console.log("horrible error",e)}})},he.prototype.onItem=function(e,t,r){if(!t&&this.callback)return this.callback(),void(this.callback=!1);var n=!0;this._limit&&this._limit>0&&this._count++>=this._limit&&(n=!1),n&&this.callback(!1,t.key,t.value),t&&t.continue()},he.prototype._next=function(e){return e?this._keyRangeError?e():(this._started||(this.createIterator(),this._started=!0),void(this.callback=e)):new Error("next() requires a callback argument")};var de=[],pe=[],ge="undefined"!=typeof Uint8Array?Uint8Array:Array,be=!1;function ye(){be=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)de[t]=e[t],pe[e.charCodeAt(t)]=t;pe["-".charCodeAt(0)]=62,pe["_".charCodeAt(0)]=63}function ve(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(de[(i=n)>>18&63]+de[i>>12&63]+de[i>>6&63]+de[63&i]);return o.join("")}function we(e){var t;be||ye();for(var r=e.length,n=r%3,i="",o=[],s=0,a=r-n;s<a;s+=16383)o.push(ve(e,s,s+16383>a?a:s+16383));return 1===n?(t=e[r-1],i+=de[t>>2],i+=de[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=de[t>>10],i+=de[t>>4&63],i+=de[t<<2&63],i+="="),o.push(i),o.join("")}function me(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)}function _e(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*g}var Ee={}.toString,ke=Array.isArray||function(e){return"[object Array]"==Ee.call(e)};Te.TYPED_ARRAY_SUPPORT=void 0===global.TYPED_ARRAY_SUPPORT||global.TYPED_ARRAY_SUPPORT;var Se=xe();function xe(){return Te.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Re(e,t){if(xe()<t)throw new RangeError("Invalid typed array length");return Te.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Te.prototype:(null===e&&(e=new Te(t)),e.length=t),e}function Te(e,t,r){if(!(Te.TYPED_ARRAY_SUPPORT||this instanceof Te))return new Te(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Oe(this,e)}return je(this,e,t,r)}function je(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Te.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Te.prototype:e=Ae(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Te.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|De(t,r),i=(e=Re(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Me(t)){var r=0|Le(t.length);return 0===(e=Re(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?Re(e,0):Ae(e,t);if("Buffer"===t.type&&ke(t.data))return Ae(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Be(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Oe(e,t){if(Be(t),e=Re(e,t<0?0:0|Le(t)),!Te.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function Ae(e,t){var r=t.length<0?0:0|Le(t.length);e=Re(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Le(e){if(e>=xe())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+xe().toString(16)+" bytes");return 0|e}function Me(e){return!(null==e||!e._isBuffer)}function De(e,t){if(Me(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return at(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ut(e).length;default:if(n)return at(e).length;t=(""+t).toLowerCase(),n=!0}}function Ce(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Xe(this,t,r);case"utf8":case"utf-8":return Ye(this,t,r);case"ascii":return $e(this,t,r);case"latin1":case"binary":return Ge(this,t,r);case"base64":return Ke(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Je(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Ie(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Ne(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Te.from(t,n)),Me(t))return 0===t.length?-1:Pe(e,t,r,n,i);if("number"==typeof t)return t&=255,Te.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Pe(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Pe(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function Ue(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function We(e,t,r,n){return ct(at(t,e.length-r),e,r,n)}function qe(e,t,r,n){return ct(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function Fe(e,t,r,n){return qe(e,t,r,n)}function ze(e,t,r,n){return ct(ut(t),e,r,n)}function Ve(e,t,r,n){return ct(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function Ke(e,t,r){return 0===t&&r===e.length?we(e):we(e.slice(t,r))}function Ye(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=He)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=He));return r}(n)}Te.poolSize=8192,Te._augment=function(e){return e.__proto__=Te.prototype,e},Te.from=function(e,t,r){return je(null,e,t,r)},Te.TYPED_ARRAY_SUPPORT&&(Te.prototype.__proto__=Uint8Array.prototype,Te.__proto__=Uint8Array),Te.alloc=function(e,t,r){return function(e,t,r,n){return Be(t),t<=0?Re(e,t):void 0!==r?"string"==typeof n?Re(e,t).fill(r,n):Re(e,t).fill(r):Re(e,t)}(null,e,t,r)},Te.allocUnsafe=function(e){return Oe(null,e)},Te.allocUnsafeSlow=function(e){return Oe(null,e)},Te.isBuffer=ft,Te.compare=function(e,t){if(!Me(e)||!Me(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Te.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Te.concat=function(e,t){if(!ke(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Te.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Te.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Me(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Te.byteLength=De,Te.prototype._isBuffer=!0,Te.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ie(this,t,t+1);return this},Te.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ie(this,t,t+3),Ie(this,t+1,t+2);return this},Te.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ie(this,t,t+7),Ie(this,t+1,t+6),Ie(this,t+2,t+5),Ie(this,t+3,t+4);return this},Te.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Ye(this,0,e):Ce.apply(this,arguments)},Te.prototype.equals=function(e){if(!Me(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Te.compare(this,e)},Te.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Te.prototype.compare=function(e,t,r,n,i){if(!Me(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),f=0;f<a;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},Te.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Te.prototype.indexOf=function(e,t,r){return Ne(this,e,t,r,!0)},Te.prototype.lastIndexOf=function(e,t,r){return Ne(this,e,t,r,!1)},Te.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ue(this,e,t,r);case"utf8":case"utf-8":return We(this,e,t,r);case"ascii":return qe(this,e,t,r);case"latin1":case"binary":return Fe(this,e,t,r);case"base64":return ze(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var He=4096;function $e(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Ge(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Xe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=st(e[o]);return i}function Je(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Ze(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Qe(e,t,r,n,i,o){if(!Me(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function et(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function tt(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function rt(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function nt(e,t,r,n,i){return i||rt(e,0,r,4),_e(e,t,r,n,23,4),r+4}function it(e,t,r,n,i){return i||rt(e,0,r,8),_e(e,t,r,n,52,8),r+8}Te.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Te.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Te.prototype;else{var i=t-e;r=new Te(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Te.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Ze(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Te.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Ze(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Te.prototype.readUInt8=function(e,t){return t||Ze(e,1,this.length),this[e]},Te.prototype.readUInt16LE=function(e,t){return t||Ze(e,2,this.length),this[e]|this[e+1]<<8},Te.prototype.readUInt16BE=function(e,t){return t||Ze(e,2,this.length),this[e]<<8|this[e+1]},Te.prototype.readUInt32LE=function(e,t){return t||Ze(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Te.prototype.readUInt32BE=function(e,t){return t||Ze(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Te.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Ze(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Te.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Ze(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Te.prototype.readInt8=function(e,t){return t||Ze(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Te.prototype.readInt16LE=function(e,t){t||Ze(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Te.prototype.readInt16BE=function(e,t){t||Ze(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Te.prototype.readInt32LE=function(e,t){return t||Ze(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Te.prototype.readInt32BE=function(e,t){return t||Ze(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Te.prototype.readFloatLE=function(e,t){return t||Ze(e,4,this.length),me(this,e,!0,23,4)},Te.prototype.readFloatBE=function(e,t){return t||Ze(e,4,this.length),me(this,e,!1,23,4)},Te.prototype.readDoubleLE=function(e,t){return t||Ze(e,8,this.length),me(this,e,!0,52,8)},Te.prototype.readDoubleBE=function(e,t){return t||Ze(e,8,this.length),me(this,e,!1,52,8)},Te.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Qe(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Te.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Qe(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Te.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,1,255,0),Te.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Te.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,2,65535,0),Te.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):et(this,e,t,!0),t+2},Te.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,2,65535,0),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):et(this,e,t,!1),t+2},Te.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,4,4294967295,0),Te.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):tt(this,e,t,!0),t+4},Te.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,4,4294967295,0),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):tt(this,e,t,!1),t+4},Te.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Qe(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Te.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Qe(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Te.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,1,127,-128),Te.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Te.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,2,32767,-32768),Te.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):et(this,e,t,!0),t+2},Te.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,2,32767,-32768),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):et(this,e,t,!1),t+2},Te.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,4,2147483647,-2147483648),Te.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):tt(this,e,t,!0),t+4},Te.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||Qe(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):tt(this,e,t,!1),t+4},Te.prototype.writeFloatLE=function(e,t,r){return nt(this,e,t,!0,r)},Te.prototype.writeFloatBE=function(e,t,r){return nt(this,e,t,!1,r)},Te.prototype.writeDoubleLE=function(e,t,r){return it(this,e,t,!0,r)},Te.prototype.writeDoubleBE=function(e,t,r){return it(this,e,t,!1,r)},Te.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Te.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Te.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Te.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=Me(e)?e:at(new Te(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var ot=/[^+\/0-9A-Za-z-_]/g;function st(e){return e<16?"0"+e.toString(16):e.toString(16)}function at(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function ut(e){return function(e){var t,r,n,i,o,s;be||ye();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[a-2]?2:"="===e[a-1]?1:0,s=new ge(3*a/4-o),n=o>0?a-4:a;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=pe[e.charCodeAt(t)]<<18|pe[e.charCodeAt(t+1)]<<12|pe[e.charCodeAt(t+2)]<<6|pe[e.charCodeAt(t+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=pe[e.charCodeAt(t)]<<2|pe[e.charCodeAt(t+1)]>>4,s[u++]=255&i):1===o&&(i=pe[e.charCodeAt(t)]<<10|pe[e.charCodeAt(t+1)]<<4|pe[e.charCodeAt(t+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(ot,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ct(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ft(e){return null!=e&&(!!e._isBuffer||lt(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&lt(e.slice(0,0))}(e))}function lt(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ht=n(Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:Se,Buffer:Te,SlowBuffer:function(e){return+e!=e&&(e=0),Te.alloc(+e)},isBuffer:ft})),dt=ht.Buffer,pt=function(e){return dt.isBuffer(e)||/\[object (.+Array|Array.+)\]/.test(Object.prototype.toString.call(e))};var gt=Object.prototype.hasOwnProperty,bt=Object.prototype.toString,yt=function(e){var t="function"==typeof e&&!(e instanceof RegExp)||"[object Function]"===bt.call(e);return t||"undefined"==typeof window||(t=e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt),t},vt=function(e,t){if(!yt(t))throw new TypeError("iterator must be a function");var r,n,i="string"==typeof e,o=e.length,s=arguments.length>2?arguments[2]:null;if(o===+o)for(r=0;r<o;r++)null===s?t(i?e.charAt(r):e[r],r,e):t.call(s,i?e.charAt(r):e[r],r,e);else for(n in e)gt.call(e,n)&&(null===s?t(e[n],n,e):t.call(s,e[n],n,e))},wt=Object.prototype.toString,mt=function(e){var t=wt.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===wt.call(e.callee)),r},_t=r(function(e){!function(){var t,r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=vt,o=mt,s=!{toString:null}.propertyIsEnumerable("toString"),a=function(){}.propertyIsEnumerable("prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];t=function(e){var t=null!==e&&"object"==typeof e,c="[object Function]"===n.call(e),f=o(e),l=[];if(!t&&!c&&!f)throw new TypeError("Object.keys called on a non-object");if(f)i(e,function(e){l.push(e)});else{var h,d=a&&c;for(h in e)d&&"prototype"===h||!r.call(e,h)||l.push(h)}if(s){var p=e.constructor,g=p&&p.prototype===e;i(u,function(t){g&&"constructor"===t||!r.call(e,t)||l.push(t)})}return l},e.exports=t}()}),Et=Object.keys||_t,kt=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)};var St=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];if(kt(r))for(var n=Et(r),i=0;i<n.length;i++){var o=n[i];e[o]=r[o]}}return e};var xt=function(e){return"function"==typeof Buffer._augment&&Buffer.TYPED_ARRAY_SUPPORT?Buffer._augment(e):new Buffer(e)},Rt=jt,Tt=l.AbstractLevelDOWN;function jt(e){if(!(this instanceof jt))return new jt(e);if(!e)throw new Error("constructor requires at least a location argument");this.IDBOptions={},this.location=e}ce.inherits(jt,Tt),jt.prototype._open=function(e,t){var r=this,n={storeName:this.location,autoIncrement:!1,keyPath:null,onStoreReady:function(){t&&t(null,r.idb)},onError:function(e){t&&t(e)}};St(n,e),this.IDBOptions=n,this.idb=new i(n)},jt.prototype._get=function(e,t,r){this.idb.get(e,function(n){if(void 0===n)return r(new Error("NotFound"));var i=!0;return!1===t.asBuffer&&(i=!1),t.raw&&(i=!1),i&&(n=n instanceof Uint8Array?xt(n):new Buffer(String(n))),r(null,n,e)},r)},jt.prototype._del=function(e,t,r){this.idb.remove(e,r,r)},jt.prototype._put=function(e,t,r,n){t instanceof ArrayBuffer&&(t=xt(new Uint8Array(t)));var i=this.convertEncoding(e,t,r);Buffer.isBuffer(i.value)&&("function"==typeof t.toArrayBuffer?i.value=new Uint8Array(t.toArrayBuffer()):i.value=new Uint8Array(t)),this.idb.put(i.key,i.value,function(){n()},n)},jt.prototype.convertEncoding=function(e,t,r){if(r.raw)return{key:e,value:t};if(t){var n=t.toString();"NaN"===n&&(t="NaN")}var i=r.valueEncoding,o={key:e,value:t};return!t||i&&"binary"===i||"object"!=typeof o.value&&(o.value=n),o},jt.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),new le(this.idb,e)},jt.prototype._batch=function(e,t,r){var n,i,o,s,a=[];if(0===e.length)return setTimeout(r,0);for(n=0;n<e.length;n++){o={},s=e[n],a[n]=o;var u=this.convertEncoding(s.key,s.value,t);for(i in s.key=u.key,s.value=u.value,s)"type"===i&&"del"==s[i]?o[i]="remove":o[i]=s[i]}return this.idb.batch(a,function(){r()},r)},jt.prototype._close=function(e){this.idb.db.close(),e()},jt.prototype._approximateSize=function(e,t,r){var n=new Error("Not implemented");if(r)return r(n);throw n},jt.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},jt.destroy=function(e,t){if("object"==typeof e)var r=e.IDBOptions.storePrefix||"IDBWrapper-",n=e.location;else r="IDBWrapper-",n=e;var i=indexedDB.deleteDatabase(r+n);i.onsuccess=function(){t()},i.onerror=function(e){t(e)}};jt.prototype._checkKeyValue=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):null==e?new Error(t+" cannot be `null` or `undefined`"):pt(e)&&0===e.byteLength?new Error(t+" cannot be an empty ArrayBuffer"):""===String(e)?new Error(t+" cannot be an empty String"):0===e.length?new Error(t+" cannot be an empty Array"):void 0};function Bt(){}function Ot(){Ot.init.call(this)}function At(e){return void 0===e._maxListeners?Ot.defaultMaxListeners:e._maxListeners}function Lt(e,t,r){if(t)e.call(r);else for(var n=e.length,i=Wt(e,n),o=0;o<n;++o)i[o].call(r)}function Mt(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=Wt(e,i),s=0;s<i;++s)o[s].call(r,n)}function Dt(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=Wt(e,o),a=0;a<o;++a)s[a].call(r,n,i)}function Ct(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=Wt(e,s),u=0;u<s;++u)a[u].call(r,n,i,o)}function It(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=Wt(e,i),s=0;s<i;++s)o[s].apply(r,n)}function Nt(e,t,r,n){var i,o,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]):(o=e._events=new Bt,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=At(e))&&i>0&&s.length>i){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[t]=r,++e._eventsCount;return e}function Pt(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function Ut(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Wt(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}Bt.prototype=Object.create(null),Ot.EventEmitter=Ot,Ot.usingDomains=!1,Ot.prototype.domain=void 0,Ot.prototype._events=void 0,Ot.prototype._maxListeners=void 0,Ot.defaultMaxListeners=10,Ot.init=function(){this.domain=null,Ot.usingDomains&&(void 0).active&&(void 0).Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Bt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ot.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Ot.prototype.getMaxListeners=function(){return At(this)},Ot.prototype.emit=function(e){var t,r,n,i,o,s,a,u="error"===e;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(a=this.domain,u){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var f="function"==typeof r;switch(n=arguments.length){case 1:Lt(r,f,this);break;case 2:Mt(r,f,this,arguments[1]);break;case 3:Dt(r,f,this,arguments[1],arguments[2]);break;case 4:Ct(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];It(r,f,this,i)}return!0},Ot.prototype.addListener=function(e,t){return Nt(this,e,t,!1)},Ot.prototype.on=Ot.prototype.addListener,Ot.prototype.prependListener=function(e,t){return Nt(this,e,t,!0)},Ot.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Pt(this,e,t)),this},Ot.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Pt(this,e,t)),this},Ot.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new Bt:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new Bt,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,s||t)}return this},Ot.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new Bt,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new Bt:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Bt,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Ot.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},Ot.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Ut.call(e,t)},Ot.prototype.listenerCount=Ut,Ot.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var qt=Object.freeze({default:Ot,EventEmitter:Ot}),Ft=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e};var zt=r(function(e){var r,n;r=t,n=function(){var e="function"==typeof Object.defineProperty?function(e,t,r){return Object.defineProperty(e,t,r),e}:function(e,t,r){return e[t]=r.value,e};return function(t,r,n,i){var o;if(i=function(e,t){var r="object"==typeof t,n=!r&&"string"==typeof t,i=function(e){return r?!!t[e]:!!n&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(n,i),"object"==typeof r){for(o in r)Object.hasOwnProperty.call(r,o)&&(i.value=r[o],e(t,o,i));return t}return e(t,r,i)}},e.exports?e.exports=n():r.prr=n()}),Vt=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e};function Kt(e){this.db=e,this._ended=!1,this._nexting=!1}Kt.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next(function(){t._nexting=!1,e.apply(null,arguments)}):void process.nextTick(function(){t._nexting=!1,e()}))},Kt.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))};var Yt=Kt;function Ht(e){this._db=e,this._operations=[],this._written=!1}Ht.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},Ht.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(r)throw r;if(r=this._db._checkKeyValue(t,"value",this._db._isBuffer))throw r;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},Ht.prototype.del=function(e){this._checkWritten();var t=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(t)throw t;return this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},Ht.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},Ht.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)};var $t=Ht;function Gt(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e}Gt.prototype.open=function(e,t){if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");if("object"!=typeof e&&(e={}),"function"==typeof this._open)return this._open(e,t);process.nextTick(t)},Gt.prototype.close=function(e){if("function"!=typeof e)throw new Error("close() requires a callback argument");if("function"==typeof this._close)return this._close(e);process.nextTick(e)},Gt.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKeyValue(e,"key",this._isBuffer))?r(n):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._get?this._get(e,t,r):void process.nextTick(function(){r(new Error("NotFound"))}))},Gt.prototype.put=function(e,t,r,n){var i;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(i=this._checkKeyValue(e,"key",this._isBuffer))?n(i):(i=this._checkKeyValue(t,"value",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||process.browser||(t=String(t)),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},Gt.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKeyValue(e,"key",this._isBuffer))?r(n):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},Gt.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));"object"!=typeof t&&(t={});for(var n,i,o=0,s=e.length;o<s;o++)if("object"==typeof(n=e[o])){if(i=this._checkKeyValue(n.type,"type",this._isBuffer))return r(i);if(i=this._checkKeyValue(n.key,"key",this._isBuffer))return r(i);if("put"==n.type&&(i=this._checkKeyValue(n.value,"value",this._isBuffer)))return r(i)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},Gt.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||(t=String(t)),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick(function(){r(null,0)})},Gt.prototype._setupIteratorOptions=function(e){var t=this;return e=Vt(e),["start","end","gt","gte","lt","lte"].forEach(function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]}),e.reverse=!!e.reverse,e.reverse&&e.lt&&(e.start=e.lt),e.reverse&&e.lte&&(e.start=e.lte),!e.reverse&&e.gt&&(e.start=e.gt),!e.reverse&&e.gte&&(e.start=e.gte),(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)&&(e.exclusiveStart=!0),e},Gt.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new Yt(this)},Gt.prototype._chainedBatch=function(){return new $t(this)},Gt.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},Gt.prototype._checkKeyValue=function(e,t){if(null==e)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")};var Xt={AbstractLevelDOWN:Gt,AbstractIterator:Yt,AbstractChainedBatch:$t}.AbstractLevelDOWN;function Jt(e){Xt.call(this,"string"==typeof e?e:""),this._db=void 0,this._operations=[]}ce.inherits(Jt,Xt),Jt.prototype.setDb=function(e){this._db=e,this._operations.forEach(function(t){e[t.method].apply(e,t.args)})},Jt.prototype._open=function(e,t){return process.nextTick(t)},Jt.prototype._operation=function(e,t){if(this._db)return this._db[e].apply(this._db,t);this._operations.push({method:e,args:t})},"put get del batch approximateSize".split(" ").forEach(function(e){Jt.prototype["_"+e]=function(){this._operation(e,arguments)}}),Jt.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},Jt.prototype._iterator=function(){throw new TypeError("not implemented")};var Zt=Jt,Qt=r(function(e){var r,n;r=t,n=function(){var e="function"==typeof Object.defineProperty?function(e,t,r){return Object.defineProperty(e,t,r),e}:function(e,t,r){return e[t]=r.value,e};return function(t,r,n,i){var o;if(i=function(e,t){var r="object"==typeof t,n=!r&&"string"==typeof t,i=function(e){return r?!!t[e]:!!n&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(n,i),"object"==typeof r){for(o in r)Object.hasOwnProperty.call(r,o)&&(i.value=r[o],e(t,o,i));return t}return e(t,r,i)}},e.exports?e.exports=n():r.prr=n()});function er(e,t,r){t&&"string"!=typeof t&&(t=t.message||t.name),Qt(this,{type:e,name:e,cause:"string"!=typeof t?t:r,message:t},"ewr")}function tr(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),er.call(this,"CustomError",e,t)}tr.prototype=new Error;var rr=function(e){var t=function(t,r){return function(e,t,r){var n=function(r,i){er.call(this,t,r,i),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new tr,n}(e,t,r)};return{CustomError:tr,FilesystemError:t("FilesystemError"),createError:t}},nr=r(function(e){var t=e.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];e.exports.errno={},e.exports.code={},t.forEach(function(t){e.exports.errno[t.errno]=t,e.exports.code[t.code]=t}),e.exports.custom=rr(e.exports),e.exports.create=e.exports.custom.createError}),ir=(nr.all,nr.errno,nr.code,nr.custom,nr.create,nr.create),or=ir("LevelUPError"),sr=ir("NotFoundError",or);sr.prototype.notFound=!0,sr.prototype.status=404;var ar={LevelUPError:or,InitializationError:ir("InitializationError",or),OpenError:ir("OpenError",or),ReadError:ir("ReadError",or),WriteError:ir("WriteError",or),NotFoundError:sr,EncodingError:ir("EncodingError",or)};function ur(){this.head=null,this.tail=null,this.length=0}ur.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},ur.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},ur.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},ur.prototype.clear=function(){this.head=this.tail=null,this.length=0},ur.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},ur.prototype.concat=function(e){if(0===this.length)return Te.alloc(0);if(1===this.length)return this.head.data;for(var t=Te.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var cr=Te.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function fr(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!cr(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=hr;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=dr;break;default:return void(this.write=lr)}this.charBuffer=new Te(6),this.charReceived=0,this.charLength=0}function lr(e){return e.toString(this.encoding)}function hr(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function dr(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}fr.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},fr.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},fr.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t},br.ReadableState=gr;var pr=L("stream");function gr(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Vr&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new ur,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new fr(e.encoding),this.encoding=e.encoding)}function br(e){if(!(this instanceof br))return new br(e);this._readableState=new gr(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),Ot.call(this)}function yr(e,t,r,n,i){var o=function(e,t){var r=null;Buffer.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,mr(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var u;!t.decoder||i||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&mr(e))),function(e,t){t.readingMore||(t.readingMore=!0,k(Er,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}R(br,Ot),br.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=Buffer.from(e,t),t=""),yr(this,r,e,t,!1)},br.prototype.unshift=function(e){return yr(this,this._readableState,e,"",!0)},br.prototype.isPaused=function(){return!1===this._readableState.flowing},br.prototype.setEncoding=function(e){return this._readableState.decoder=new fr(e),this._readableState.encoding=e,this};var vr=8388608;function wr(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=vr?e=vr:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function mr(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(pr("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?k(_r,e):_r(e))}function _r(e){pr("emit readable"),e.emit("readable"),xr(e)}function Er(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(pr("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function kr(e){pr("readable nexttick read 0"),e.read(0)}function Sr(e,t){t.reading||(pr("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),xr(e),t.flowing&&!t.reading&&e.read(0)}function xr(e){var t=e._readableState;for(pr("flow",t.flowing);t.flowing&&null!==e.read(););}function Rr(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=Buffer.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function Tr(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,k(jr,t,e))}function jr(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Br(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Or(){}function Ar(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function Lr(e,t){Object.defineProperty(this,"buffer",{get:B(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Vr&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?k(i,n):i(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=Nr(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||Ir(e,r),n?k(Cr,e,r,o,i):Cr(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Wr(this)}function Mr(e){if(!(this instanceof Mr||this instanceof Vr))return new Mr(e);this._writableState=new Lr(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),Ot.call(this)}function Dr(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Cr(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),Ur(e,t)}function Ir(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;Dr(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Wr(t)}else{for(;r;){var a=r.chunk,u=r.encoding,c=r.callback;if(Dr(e,t,!1,t.objectMode?1:a.length,a,u,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function Nr(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function Pr(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function Ur(e,t){var r=Nr(t);return r&&(0===t.pendingcb?(Pr(e,t),t.finished=!0,e.emit("finish")):Pr(e,t)),r}function Wr(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}br.prototype.read=function(e){pr("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return pr("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Tr(this):mr(this),null;if(0===(e=wr(e,t))&&t.ended)return 0===t.length&&Tr(this),null;var n,i=t.needReadable;return pr("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&pr("length less than watermark",i=!0),t.ended||t.reading?pr("reading or ended",i=!1):i&&(pr("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=wr(r,t))),null===(n=e>0?Rr(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Tr(this)),null!==n&&this.emit("data",n),n},br.prototype._read=function(e){this.emit("error",new Error("not implemented"))},br.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,pr("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||!1!==t.end?s:c;function o(e){pr("onunpipe"),e===r&&c()}function s(){pr("onend"),e.end()}n.endEmitted?k(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;pr("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,xr(e))}}(r);e.on("drain",a);var u=!1;function c(){pr("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",c),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var f=!1;function l(t){pr("ondata"),f=!1,!1!==e.write(t)||f||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Br(n.pipes,e))&&!u&&(pr("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function h(t){pr("onerror",t),g(),e.removeListener("error",h),0===function(e,t){return e.listeners(t).length}(e,"error")&&e.emit("error",t)}function d(){e.removeListener("finish",p),g()}function p(){pr("onfinish"),e.removeListener("close",d),g()}function g(){pr("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(pr("pipe resume"),r.resume()),e},br.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=Br(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},br.prototype.on=function(e,t){var r=Ot.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&mr(this):k(kr,this))}return r},br.prototype.addListener=br.prototype.on,br.prototype.resume=function(){var e=this._readableState;return e.flowing||(pr("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,k(Sr,e,t))}(this,e)),this},br.prototype.pause=function(){return pr("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(pr("pause"),this._readableState.flowing=!1,this.emit("pause")),this},br.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(pr("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(pr("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){pr("wrapped _read",t),r&&(r=!1,e.resume())},n},br._fromList=Rr,Mr.WritableState=Lr,R(Mr,Ot),Lr.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},Mr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Mr.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),Te.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=Or),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),k(t,r)}(this,r):function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):Te.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),k(n,o),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Te.from(t,r)),t}(t,r,n),Te.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new Ar(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Dr(e,t,!1,o,r,n,i);return s}(this,n,e,t,r)),i},Mr.prototype.cork=function(){this._writableState.corked++},Mr.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||Ir(this,e))},Mr.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Mr.prototype._write=function(e,t,r){r(new Error("not implemented"))},Mr.prototype._writev=null,Mr.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,Ur(e,t),r&&(t.finished?k(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},R(Vr,br);for(var qr=Object.keys(Mr.prototype),Fr=0;Fr<qr.length;Fr++){var zr=qr[Fr];Vr.prototype[zr]||(Vr.prototype[zr]=Mr.prototype[zr])}function Vr(e){if(!(this instanceof Vr))return new Vr(e);br.call(this,e),Mr.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Kr)}function Kr(){this.allowHalfOpen||this._writableState.ended||k(Yr,this)}function Yr(e){e.end()}function Hr(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function $r(e){if(!(this instanceof $r))return new $r(e);Vr.call(this,e),this._transformState=new Hr(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){Gr(t,e)}):Gr(t)})}function Gr(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Xr(e){if(!(this instanceof Xr))return new Xr(e);$r.call(this,e)}function Jr(){Ot.call(this)}R($r,Vr),$r.prototype.push=function(e,t){return this._transformState.needTransform=!1,Vr.prototype.push.call(this,e,t)},$r.prototype._transform=function(e,t,r){throw new Error("Not implemented")},$r.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},$r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},R(Xr,$r),Xr.prototype._transform=function(e,t,r){r(null,e)},R(Jr,Ot),Jr.Readable=br,Jr.Writable=Mr,Jr.Duplex=Vr,Jr.Transform=$r,Jr.PassThrough=Xr,Jr.Stream=Jr,Jr.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===Ot.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var Zr=Object.freeze({default:Jr,Readable:br,Writable:Mr,Duplex:Vr,Transform:$r,PassThrough:Xr,Stream:Jr}),Qr=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};function en(e){return Object.prototype.toString.call(e)}var tn={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===en(e)},isBoolean:function(e){return"boolean"==typeof e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e},isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isSymbol:function(e){return"symbol"==typeof e},isUndefined:function(e){return void 0===e},isRegExp:function(e){return"[object RegExp]"===en(e)},isObject:function(e){return"object"==typeof e&&null!==e},isDate:function(e){return"[object Date]"===en(e)},isError:function(e){return"[object Error]"===en(e)||e instanceof Error},isFunction:function(e){return"function"==typeof e},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},isBuffer:Buffer.isBuffer},rn=r(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),nn=r(function(e){try{var t=ce;if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=rn}}),on=r(function(e,t){var r=ht.Buffer,n=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var i=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!n(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function o(e){return e.toString(this.encoding)}function s(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}i.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},i.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},i.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}}),sn=(on.StringDecoder,n(qt)),an=n(Zr),un=dn,cn=ht.Buffer;dn.ReadableState=hn;var fn,ln=sn.EventEmitter;function hn(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(fn||(fn=on.StringDecoder),this.decoder=new fn(e.encoding),this.encoding=e.encoding)}function dn(e){if(!(this instanceof dn))return new dn(e);this._readableState=new hn(e,this),this.readable=!0,an.call(this)}function pn(e,t,r,n,i){var o=function(e,t){var r=null;cn.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?yn(e):kn(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&yn(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)}))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}ln.listenerCount||(ln.listenerCount=function(e,t){return e.listeners(t).length}),tn.inherits=nn,tn.inherits(dn,an),dn.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new cn(e,t),t=""),pn(this,r,e,t,!1)},dn.prototype.unshift=function(e){return pn(this,this._readableState,e,"",!0)},dn.prototype.setEncoding=function(e){fn||(fn=on.StringDecoder),this._readableState.decoder=new fn(e),this._readableState.encoding=e};var gn=8388608;function bn(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=gn)e=gn;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function yn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick(function(){vn(e)}):vn(e))}function vn(e){e.emit("readable")}function wn(e){var t,r=e._readableState;function n(e,n,i){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):Sn(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(ln.listenerCount(e,"data")>0&&_n(e));r.ranOut=!0}function mn(){this._readableState.ranOut&&(this._readableState.ranOut=!1,wn(this))}function _n(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=an.prototype.pipe,e.on=e.addListener=an.prototype.on,e.on("readable",function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function En(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!e||e>=i)r=o?n.join(""):cn.concat(n,i),n.length=0;else{if(e<n[0].length)r=(f=n[0]).slice(0,e),n[0]=f.slice(e);else if(e===n[0].length)r=n.shift();else{r=o?"":new cn(e);for(var a=0,u=0,c=n.length;u<c&&a<e;u++){var f=n[0],l=Math.min(e-a,f.length);o?r+=f.slice(0,l):f.copy(r,a,0,l),l<f.length?n[0]=f.slice(l):n.shift(),a+=l}}}return r}function kn(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function Sn(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}dn.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return yn(this),null;if(0===(e=bn(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=En(e,t),t.length-=r.length),0===t.length&&kn(this),r;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=bn(n,t)),null===(r=e>0?En(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&kn(this),r},dn.prototype._read=function(e){this.emit("error",new Error("not implemented"))},dn.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1;var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:u;function o(e){e===r&&u()}function s(){e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&wn(e)}}(r);function u(){e.removeListener("close",f),e.removeListener("finish",l),e.removeListener("drain",a),e.removeListener("error",c),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),e._writableState&&!e._writableState.needDrain||a()}function c(t){h(),e.removeListener("error",c),0===ln.listenerCount(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",l),h()}function l(){e.removeListener("close",f),h()}function h(){r.unpipe(e)}return e.on("drain",a),e._events&&e._events.error?Qr(e._events.error)?e._events.error.unshift(c):e._events.error=[c,e._events.error]:e.on("error",c),e.once("close",f),e.once("finish",l),e.emit("pipe",r),n.flowing||(this.on("readable",mn),n.flowing=!0,process.nextTick(function(){wn(r)})),e},dn.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",mn),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",mn),t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},dn.prototype.on=function(e,t){var r=an.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||_n(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&yn(this):this.read(0))}return r},dn.prototype.addListener=dn.prototype.on,dn.prototype.resume=function(){_n(this),this.read(0),this.emit("resume")},dn.prototype.pause=function(){_n(this,!0),this.emit("pause")},dn.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return Sn(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){r&&(r=!1,e.resume())},n},dn._fromList=En;var xn=Tn,Rn=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Tn(e){if(!(this instanceof Tn))return new Tn(e);un.call(this,e),Bn.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",jn)}function jn(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}tn.inherits=nn,tn.inherits(Tn,un),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(Rn(Bn.prototype),function(e){Tn.prototype[e]||(Tn.prototype[e]=Bn.prototype[e])});var Bn=Mn,On=ht.Buffer;function An(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function Ln(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){r?process.nextTick(function(){i(n)}):i(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,i);else{var o=In(e,r);o||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],i=n.chunk,o=n.encoding,s=n.callback,a=t.objectMode?1:i.length;if(Dn(e,t,a,i,o,s),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick(function(){Cn(e,r,o,i)}):Cn(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function Mn(e){if(!(this instanceof Mn||this instanceof xn))return new Mn(e);this._writableState=new Ln(e,this),this.writable=!0,an.call(this)}function Dn(e,t,r,n,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function Cn(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&Nn(e,t)}function In(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function Nn(e,t){var r=In(0,t);return r&&(t.finished=!0,e.emit("finish")),r}Mn.WritableState=Ln,tn.inherits=nn,tn.inherits(Mn,an),Mn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Mn.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),On.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){r(n)})}(this,0,r):function(e,t,r,n){var i=!0;if(!On.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){n(o)}),i=!1}return i}(this,n,e,r)&&(i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new On(t,r)),t}(t,r,n),On.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);t.writing?t.buffer.push(new An(r,n,i)):Dn(e,t,o,r,n,i);return s}(this,n,e,t,r)),i},Mn.prototype._write=function(e,t,r){r(new Error("not implemented"))},Mn.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,Nn(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)};var Pn=Wn;function Un(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function Wn(e){if(!(this instanceof Wn))return new Wn(e);xn.call(this,e);this._transformState=new Un(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){qn(t,e)}):qn(t)})}function qn(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}tn.inherits=nn,tn.inherits(Wn,xn),Wn.prototype.push=function(e,t){return this._transformState.needTransform=!1,xn.prototype.push.call(this,e,t)},Wn.prototype._transform=function(e,t,r){throw new Error("not implemented")},Wn.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Wn.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};var Fn=zn;function zn(e){if(!(this instanceof zn))return new zn(e);Pn.call(this,e)}tn.inherits=nn,tn.inherits(zn,Pn),zn.prototype._transform=function(e,t,r){r(null,e)};var Vn=r(function(e,t){(t=e.exports=un).Stream=an,t.Readable=t,t.Writable=Bn,t.Duplex=xn,t.Transform=Pn,t.PassThrough=Fn,process.browser||"disable"!==process.env.READABLE_STREAM||(e.exports=an)}),Kn=(Vn.Stream,Vn.Readable,Vn.Writable,Vn.Duplex,Vn.Transform,Vn.PassThrough,"levelup@0.18.6"),Yn="sha1-5qAcsIlhbI7MApHCqb0/DETj5es=",Hn={"core-util-is":"1.0.2",inherits:"2.0.4"},$n={type:"range",registry:!0,raw:"levelup@^0.18.2",name:"levelup",escapedName:"levelup",rawSpec:"^0.18.2",saveSpec:null,fetchSpec:"^0.18.2"},Gn=["/browserify-fs"],Xn="https://registry.npmjs.org/levelup/-/levelup-0.18.6.tgz",Jn="e6a01cb089616c8ecc0291c2a9bd3f0c44e3e5eb",Zn="C:\\Users\\tvalcke\\Programmation\\IteeUtils\\node_modules\\browserify-fs",Qn={leveldown:!1,"leveldown/package":!1,semver:!1},ei={url:"https://github.com/rvagg/node-levelup/issues"},ti=[{name:"Rod Vagg",email:"r@va.gg",url:"https://github.com/rvagg"},{name:"John Chesley",email:"john@chesl.es",url:"https://github.com/chesles/"},{name:"Jake Verbaten",email:"raynos2@gmail.com",url:"https://github.com/raynos"},{name:"Dominic Tarr",email:"dominic.tarr@gmail.com",url:"https://github.com/dominictarr"},{name:"Max Ogden",email:"max@maxogden.com",url:"https://github.com/maxogden"},{name:"Lars-Magnus Skog",email:"lars.magnus.skog@gmail.com",url:"https://github.com/ralphtheninja"},{name:"David Björklund",email:"david.bjorklund@gmail.com",url:"https://github.com/kesla"},{name:"Julian Gruber",email:"julian@juliangruber.com",url:"https://github.com/juliangruber"},{name:"Paolo Fragomeni",email:"paolo@async.ly",url:"https://github.com/hij1nx"},{name:"Anton Whalley",email:"anton.whalley@nearform.com",url:"https://github.com/No9"},{name:"Matteo Collina",email:"matteo.collina@gmail.com",url:"https://github.com/mcollina"},{name:"Pedro Teixeira",email:"pedro.teixeira@gmail.com",url:"https://github.com/pgte"},{name:"James Halliday",email:"mail@substack.net",url:"https://github.com/substack"}],ri={bl:"~0.8.1","deferred-leveldown":"~0.2.0",errno:"~0.1.1",prr:"~0.0.0","readable-stream":"~1.0.26",semver:"~2.3.1",xtend:"~3.0.0"},ni="Fast & simple storage - a Node.js-style LevelDB wrapper",ii={async:"*",boganipsum:"*",bustermove:"*",delayed:"*",du:"*",fstream:"*",leveldown:"~0.10.0",memdown:"*",mkfiletree:"*","msgpack-js":"*",readfiletree:"*",referee:"*",rimraf:"*","slow-stream":">=0.0.4",tap:"*",tar:"*"},oi="https://github.com/rvagg/node-levelup",si=["leveldb","stream","database","db","store","storage","json"],ai="lib/levelup.js",ui={type:"git",url:"git+https://github.com/rvagg/node-levelup.git"},ci={alltests:"npm test && npm run-script functionaltests",functionaltests:"node ./test/functional/fstream-test.js && node ./test/functional/binary-data-test.js && node ./test/functional/compat-test.js",test:"tap test/*-test.js --stderr"},fi={_from:"levelup@^0.18.2",_id:Kn,_inBundle:!1,_integrity:Yn,_location:"/levelup",_phantomChildren:Hn,_requested:$n,_requiredBy:Gn,_resolved:Xn,_shasum:Jn,_spec:"levelup@^0.18.2",_where:Zn,browser:Qn,bugs:ei,bundleDependencies:!1,contributors:ti,dependencies:ri,deprecated:!1,description:ni,devDependencies:ii,homepage:oi,keywords:si,license:"MIT",main:ai,name:"levelup",repository:ui,scripts:ci,version:"0.18.6"},li=Object.freeze({_from:"levelup@^0.18.2",_id:Kn,_inBundle:!1,_integrity:Yn,_location:"/levelup",_phantomChildren:Hn,_requested:$n,_requiredBy:Gn,_resolved:Xn,_shasum:Jn,_spec:"levelup@^0.18.2",_where:Zn,browser:Qn,bugs:ei,bundleDependencies:!1,contributors:ti,dependencies:ri,deprecated:!1,description:ni,devDependencies:ii,homepage:oi,keywords:si,license:"MIT",main:ai,name:"levelup",repository:ui,scripts:ci,version:"0.18.6",default:fi}),hi="sha512-4n2R/vEA/sssh5TKtFwM9gshW2tirNoURLqekLRUUzuF+eUBLFAufO8UW7bz8lBbG2jw8tQDF3LC+LcUCc12kg==",di={},pi={type:"range",registry:!0,raw:"leveldown@^5.1.1",name:"leveldown",escapedName:"leveldown",rawSpec:"^5.1.1",saveSpec:null,fetchSpec:"^5.1.1"},gi=["#DEV:/","/itee-validators"],bi="https://registry.npmjs.org/leveldown/-/leveldown-5.1.1.tgz",yi="5d3a043f0ec76e91e189117ec3627bef0436c0dc",vi="C:\\Users\\tvalcke\\Programmation\\IteeUtils\\node_modules\\itee-validators",wi={url:"https://github.com/Level/leveldown/issues"},mi={"abstract-leveldown":"~6.0.3","napi-macros":"~1.8.1","node-gyp-build":"~4.1.0"},_i={"async-each":"^1.0.3",coveralls:"^3.0.2","cross-env":"^5.2.0",delayed:"^2.0.0","dependency-check":"^3.3.0",du:"^1.0.0",electron:"^5.0.0",glob:"^7.1.3",hallmark:"^0.1.0","level-community":"^3.0.0","level-concat-iterator":"^2.0.0",mkfiletree:"^2.0.0","node-gyp":"^5.0.0",nyc:"^14.0.0",prebuildify:"^3.0.0","prebuildify-ci":"^1.0.4",readfiletree:"^1.0.0",rimraf:"^2.6.1",standard:"^12.0.0",tape:"^4.10.0",tempy:"^0.3.0"},Ei={node:">=8.6.0"},ki={community:"level-community"},Si="https://github.com/Level/leveldown",xi=["leveldb","level"],Ri={type:"git",url:"git+https://github.com/Level/leveldown.git"},Ti={coverage:"nyc report --reporter=text-lcov | coveralls","dependency-check":"dependency-check . test/*.js bench/*.js","download-prebuilds":"prebuildify-ci download",hallmark:"hallmark --fix",install:"node-gyp-build",prebuild:"prebuildify -t 8.14.0 --napi --strip","prebuild-alpine":"IMAGE=alpine ./scripts/cross-compile --tag-libc","prebuild-android-arm64":"IMAGE=android-arm64 ./scripts/cross-compile --tag-armv","prebuild-android-armv7":"IMAGE=android-armv7 ./scripts/cross-compile --tag-armv","prebuild-arm":"npm run prebuild-linux-armv7 && npm run prebuild-linux-arm64 && npm run prebuild-android-armv7 && npm run prebuild-android-arm64","prebuild-linux-arm64":"IMAGE=linux-arm64 ./scripts/cross-compile --tag-armv","prebuild-linux-armv7":"IMAGE=linux-armv7 ./scripts/cross-compile --tag-armv",prepublishOnly:"npm run dependency-check",rebuild:"node-gyp rebuild",test:"standard && nyc tape test/*-test.js","test-electron":"electron test/electron.js","test-gc":"npx -n=--expose-gc tape test/{cleanup,iterator-gc,chained-batch-gc}*-test.js","test-prebuild":"cross-env PREBUILDS_ONLY=1 npm t"},ji={_from:"leveldown@^5.1.1",_id:"leveldown@5.1.1",_inBundle:!1,_integrity:hi,_location:"/leveldown",_phantomChildren:di,_requested:pi,_requiredBy:gi,_resolved:bi,_shasum:yi,_spec:"leveldown@^5.1.1",_where:vi,bugs:wi,bundleDependencies:!1,dependencies:mi,deprecated:!1,description:"A low-level Node.js LevelDB binding",devDependencies:_i,engines:Ei,gypfile:!0,hallmark:ki,homepage:Si,keywords:xi,license:"MIT",main:"leveldown.js",name:"leveldown",repository:Ri,scripts:Ti,version:"5.1.1"},Bi=Object.freeze({_from:"leveldown@^5.1.1",_id:"leveldown@5.1.1",_inBundle:!1,_integrity:hi,_location:"/leveldown",_phantomChildren:di,_requested:pi,_requiredBy:gi,_resolved:bi,_shasum:yi,_spec:"leveldown@^5.1.1",_where:vi,bugs:wi,bundleDependencies:!1,dependencies:mi,deprecated:!1,description:"A low-level Node.js LevelDB binding",devDependencies:_i,engines:Ei,gypfile:!0,hallmark:ki,homepage:Si,keywords:xi,license:"MIT",main:"leveldown.js",name:"leveldown",repository:Ri,scripts:Ti,version:"5.1.1",default:ji}),Oi=r(function(e,t){var r;e.exports===t&&(t=e.exports=V),r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=t.re=[],i=t.src=[],o=0,s=o++;i[s]="0|[1-9]\\d*";var a=o++;i[a]="[0-9]+";var u=o++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var c=o++;i[c]="("+i[s]+")\\.("+i[s]+")\\.("+i[s]+")";var f=o++;i[f]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var l=o++;i[l]="(?:"+i[s]+"|"+i[u]+")";var h=o++;i[h]="(?:"+i[a]+"|"+i[u]+")";var d=o++;i[d]="(?:-("+i[l]+"(?:\\."+i[l]+")*))";var p=o++;i[p]="(?:-?("+i[h]+"(?:\\."+i[h]+")*))";var g=o++;i[g]="[0-9A-Za-z-]+";var b=o++;i[b]="(?:\\+("+i[g]+"(?:\\."+i[g]+")*))";var y=o++,v="v?"+i[c]+i[d]+"?"+i[b]+"?";i[y]="^"+v+"$";var w="[v=\\s]*"+i[f]+i[p]+"?"+i[b]+"?",m=o++;i[m]="^"+w+"$";var _=o++;i[_]="((?:<|>)?=?)";var E=o++;i[E]=i[a]+"|x|X|\\*";var k=o++;i[k]=i[s]+"|x|X|\\*";var S=o++;i[S]="[v=\\s]*("+i[k]+")(?:\\.("+i[k]+")(?:\\.("+i[k]+")(?:("+i[d]+"))?)?)?";var x=o++;i[x]="[v=\\s]*("+i[E]+")(?:\\.("+i[E]+")(?:\\.("+i[E]+")(?:("+i[p]+"))?)?)?";var R=o++;i[R]="^"+i[_]+"\\s*"+i[S]+"$";var T=o++;i[T]="^"+i[_]+"\\s*"+i[x]+"$";var j=o++;i[j]="(?:~>?)";var B=o++;i[B]="(\\s*)"+i[j]+"\\s+",n[B]=new RegExp(i[B],"g");var O=o++;i[O]="^"+i[j]+i[S]+"$";var A=o++;i[A]="^"+i[j]+i[x]+"$";var L=o++;i[L]="(?:\\^)";var M=o++;i[M]="(\\s*)"+i[L]+"\\s+",n[M]=new RegExp(i[M],"g");var D=o++;i[D]="^"+i[L]+i[S]+"$";var C=o++;i[C]="^"+i[L]+i[x]+"$";var I=o++;i[I]="^"+i[_]+"\\s*("+w+")$|^$";var N=o++;i[N]="^"+i[_]+"\\s*("+v+")$|^$";var P=o++;i[P]="(\\s*)"+i[_]+"\\s*("+w+"|"+i[S]+")",n[P]=new RegExp(i[P],"g");var U=o++;i[U]="^\\s*("+i[S]+")\\s+-\\s+("+i[S]+")\\s*$";var W=o++;i[W]="^\\s*("+i[x]+")\\s+-\\s+("+i[x]+")\\s*$";var q=o++;i[q]="(<|>)?=?\\s*\\*";for(var F=0;F<34;F++)r(F,i[F]),n[F]||(n[F]=new RegExp(i[F]));function z(e,t){return(t?n[m]:n[y]).test(e)?new V(e,t):null}function V(e,t){if(e instanceof V){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(!(this instanceof V))return new V(e,t);r("SemVer",e,t),this.loose=t;var i=e.trim().match(t?n[m]:n[y]);if(!i)throw new TypeError("Invalid Version: "+e);this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],i[4]?this.prerelease=i[4].split(".").map(function(e){return/^[0-9]+$/.test(e)?+e:e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var r=z(e,t);return r?r.version:null},t.clean=function(e,t){var r=z(e,t);return r?r.version:null},t.SemVer=V,V.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},V.prototype.inspect=function(){return'<SemVer "'+this+'">'},V.prototype.toString=function(){return this.version},V.prototype.compare=function(e){return r("SemVer.compare",this.version,this.loose,e),e instanceof V||(e=new V(e,this.loose)),this.compareMain(e)||this.comparePre(e)},V.prototype.compareMain=function(e){return e instanceof V||(e=new V(e,this.loose)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},V.prototype.comparePre=function(e){if(e instanceof V||(e=new V(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return Y(n,i)}while(++t)},V.prototype.inc=function(e){switch(e){case"premajor":this.inc("major"),this.inc("pre");break;case"preminor":this.inc("minor"),this.inc("pre");break;case"prepatch":this.prerelease.length=0,this.inc("patch"),this.inc("pre");break;case"prerelease":0===this.prerelease.length&&this.inc("patch"),this.inc("pre");break;case"major":this.major++,this.minor=-1;case"minor":this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this},t.inc=function(e,t,r){try{return new V(e,r).inc(t).version}catch(e){return null}},t.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function H(e,t,r){return new V(e,r).compare(t)}function $(e,t,r){return H(t,e,r)}function G(e,t,r){return H(e,t,r)>0}function X(e,t,r){return H(e,t,r)<0}function J(e,t,r){return 0===H(e,t,r)}function Z(e,t,r){return 0!==H(e,t,r)}function Q(e,t,r){return H(e,t,r)>=0}function ee(e,t,r){return H(e,t,r)<=0}function te(e,t,r,n){var i;switch(t){case"===":i=e===r;break;case"!==":i=e!==r;break;case"":case"=":case"==":i=J(e,r,n);break;case"!=":i=Z(e,r,n);break;case">":i=G(e,r,n);break;case">=":i=Q(e,r,n);break;case"<":i=X(e,r,n);break;case"<=":i=ee(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}function re(e,t){if(e instanceof re){if(e.loose===t)return e;e=e.value}if(!(this instanceof re))return new re(e,t);r("comparator",e,t),this.loose=t,this.parse(e),this.semver===ne?this.value="":this.value=this.operator+this.semver.version}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.compare=H,t.compareLoose=function(e,t){return H(e,t,!0)},t.rcompare=$,t.sort=function(e,r){return e.sort(function(e,n){return t.compare(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.rcompare(e,n,r)})},t.gt=G,t.lt=X,t.eq=J,t.neq=Z,t.gte=Q,t.lte=ee,t.cmp=te,t.Comparator=re;var ne={};function ie(e,t){if(e instanceof ie&&e.loose===t)return e;if(!(this instanceof ie))return new ie(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function oe(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,r,n,i,o,s,a,u,c,f,l,h){return((t=oe(r)?"":oe(n)?">="+r+".0.0-0":oe(i)?">="+r+"."+n+".0-0":">="+t)+" "+(a=oe(u)?"":oe(c)?"<"+(+u+1)+".0.0-0":oe(f)?"<"+u+"."+(+c+1)+".0-0":l?"<="+u+"."+c+"."+f+"-"+l:"<="+a)).trim()}function ae(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;return!0}function ue(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function ce(e,t,r,n){var i,o,s,a,u;switch(e=new V(e,n),t=new ie(t,n),r){case">":i=G,o=ee,s=X,a=">",u=">=";break;case"<":i=X,o=Q,s=G,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var f=t.set[c],l=null,h=null;if(f.forEach(function(e){l=l||e,h=h||e,i(e.semver,l.semver,n)?l=e:s(e.semver,h.semver,n)&&(h=e)}),l.operator===a||l.operator===u)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===u&&s(e,h.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.loose?n[I]:n[N],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?(this.semver=new V(r[2],this.loose),"<"!==this.operator||this.semver.prerelease.length||(this.semver.prerelease=["0"],this.semver.format())):this.semver=ne},re.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return r("Comparator.test",e,this.loose),this.semver===ne||te(e,this.operator,this.semver,this.loose)},t.Range=ie,ie.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},ie.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),r("range",e,t);var i=t?n[W]:n[U];e=e.replace(i,se),r("hyphen replace",e),e=e.replace(n[P],"$1$2$3"),r("comparator trim",e,n[P]),e=(e=(e=e.replace(n[B],"$1~")).replace(n[M],"$1^")).split(/\s+/).join(" ");var o=t?n[I]:n[N],s=e.split(" ").map(function(e){return function(e,t){return r("comp",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var i=t?n[C]:n[D];return e.replace(i,function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),oe(n)?a="":oe(i)?a=">="+n+".0.0-0 <"+(+n+1)+".0.0-0":oe(o)?a="0"===n?">="+n+"."+i+".0-0 <"+n+"."+(+i+1)+".0-0":">="+n+"."+i+".0-0 <"+(+n+1)+".0.0-0":s?(r("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===n?"0"===i?"="+n+"."+i+"."+o+s:">="+n+"."+i+"."+o+s+" <"+n+"."+(+i+1)+".0-0":">="+n+"."+i+"."+o+s+" <"+(+n+1)+".0.0-0"):a="0"===n?"0"===i?"="+n+"."+i+"."+o:">="+n+"."+i+"."+o+"-0 <"+n+"."+(+i+1)+".0-0":">="+n+"."+i+"."+o+"-0 <"+(+n+1)+".0.0-0",r("caret return",a),a})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var i=t?n[A]:n[O];return e.replace(i,function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),oe(n)?a="":oe(i)?a=">="+n+".0.0-0 <"+(+n+1)+".0.0-0":oe(o)?a=">="+n+"."+i+".0-0 <"+n+"."+(+i+1)+".0-0":s?(r("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+n+"."+i+"."+o+s+" <"+n+"."+(+i+1)+".0-0"):a=">="+n+"."+i+"."+o+"-0 <"+n+"."+(+i+1)+".0-0",r("tilde return",a),a})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var i=t?n[T]:n[R];return e.replace(i,function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var u=oe(i),c=u||oe(o),f=c||oe(s),l=f;return"="===n&&l&&(n=""),n&&l?(u&&(i=0),c&&(o=0),f&&(s=0),">"===n&&(n=">=",u||(c?(i=+i+1,o=0,s=0):f&&(o=+o+1,s=0))),t=n+i+"."+o+"."+s+"-0"):u?t="*":c?t=">="+i+".0.0-0 <"+(+i+1)+".0.0-0":f&&(t=">="+i+"."+o+".0-0 <"+i+"."+(+o+1)+".0-0"),r("xRange return",t),t})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(n[q],"")}(e,t),r("stars",e),e}(e,t)}).join(" ").split(/\s+/);return this.loose&&(s=s.filter(function(e){return!!e.match(o)})),s=s.map(function(e){return new re(e,t)})},t.toComparators=function(e,t){return new ie(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},ie.prototype.test=function(e){if(!e)return!1;for(var t=0;t<this.set.length;t++)if(ae(this.set[t],e))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){return e.filter(function(e){return ue(e,t,r)}).sort(function(e,t){return $(e,t,r)})[0]||null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return ce(e,t,"<",r)},t.gtr=function(e,t,r){return ce(e,t,">",r)},t.outside=ce}),Ai=(Oi.SEMVER_SPEC_VERSION,Oi.re,Oi.src,Oi.parse,Oi.valid,Oi.clean,Oi.SemVer,Oi.inc,Oi.compareIdentifiers,Oi.rcompareIdentifiers,Oi.compare,Oi.compareLoose,Oi.rcompare,Oi.sort,Oi.rsort,Oi.gt,Oi.lt,Oi.eq,Oi.neq,Oi.gte,Oi.lte,Oi.cmp,Oi.Comparator,Oi.Range,Oi.toComparators,Oi.satisfies,Oi.maxSatisfying,Oi.validRange,Oi.ltr,Oi.gtr,Oi.outside,function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)Li.call(r,n)&&(e[n]=r[n])}return e}),Li=Object.prototype.hasOwnProperty;function Mi(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}Mi.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next(function(){t._nexting=!1,e.apply(null,arguments)}),t)},Mi.prototype._next=function(e){process.nextTick(e)},Mi.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},Mi.prototype._seek=function(e){},Mi.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},Mi.prototype._end=function(e){process.nextTick(e)};var Di=Mi;function Ci(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._operations=[],this._written=!1}Ci.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},Ci.prototype.put=function(e,t){this._checkWritten();var r=this.db._checkKey(e)||this.db._checkValue(t);if(r)throw r;return e=this.db._serializeKey(e),t=this.db._serializeValue(t),this._put(e,t),this},Ci.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},Ci.prototype.del=function(e){this._checkWritten();var t=this.db._checkKey(e);if(t)throw t;return e=this.db._serializeKey(e),this._del(e),this},Ci.prototype._del=function(e){this._operations.push({type:"del",key:e})},Ci.prototype.clear=function(){return this._checkWritten(),this._clear(),this},Ci.prototype._clear=function(){this._operations=[]},Ci.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");"object"==typeof e&&null!==e||(e={}),this._written=!0,this._write(e,t)},Ci.prototype._write=function(e,t){this.db._batch(this._operations,e,t)};var Ii=Ci,Ni=Object.prototype.hasOwnProperty,Pi="start end gt gte lt lte".split(" ");function Ui(){this.status="new"}function Wi(e){return-1!==Pi.indexOf(e)}Ui.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"==typeof e&&null!==e||(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,function(e){if(e)return r.status=n,t(e);r.status="open",t()})},Ui.prototype._open=function(e,t){process.nextTick(t)},Ui.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close(function(n){if(n)return t.status=r,e(n);t.status="closed",e()})},Ui.prototype._close=function(e){process.nextTick(e)},Ui.prototype.get=function(e,t,r){if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");var n=this._checkKey(e);if(n)return process.nextTick(r,n);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),t.asBuffer=!1!==t.asBuffer,this._get(e,t,r)},Ui.prototype._get=function(e,t,r){process.nextTick(function(){r(new Error("NotFound"))})},Ui.prototype.put=function(e,t,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");var i=this._checkKey(e)||this._checkValue(t);if(i)return process.nextTick(n,i);e=this._serializeKey(e),t=this._serializeValue(t),"object"==typeof r&&null!==r||(r={}),this._put(e,t,r,n)},Ui.prototype._put=function(e,t,r,n){process.nextTick(n)},Ui.prototype.del=function(e,t,r){if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");var n=this._checkKey(e);if(n)return process.nextTick(r,n);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),this._del(e,t,r)},Ui.prototype._del=function(e,t,r){process.nextTick(r)},Ui.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return process.nextTick(r,new Error("batch(array) requires an array argument"));if(0===e.length)return process.nextTick(r);"object"==typeof t&&null!==t||(t={});for(var n=new Array(e.length),i=0;i<e.length;i++){if("object"!=typeof e[i]||null===e[i])return process.nextTick(r,new Error("batch(array) element must be an object and not `null`"));var o=Ai(e[i]);if("put"!==o.type&&"del"!==o.type)return process.nextTick(r,new Error("`type` must be 'put' or 'del'"));var s=this._checkKey(o.key);if(s)return process.nextTick(r,s);if(o.key=this._serializeKey(o.key),"put"===o.type){var a=this._checkValue(o.value);if(a)return process.nextTick(r,a);o.value=this._serializeValue(o.value)}n[i]=o}this._batch(n,t,r)},Ui.prototype._batch=function(e,t,r){process.nextTick(r)},Ui.prototype._setupIteratorOptions=function(e){return(e=function(e,t){var r={};for(var n in t)if(Ni.call(t,n)){var i=t[n];Wi(n)&&(i=e._serializeKey(i)),r[n]=i}return r}(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},Ui.prototype.iterator=function(e){return"object"==typeof e&&null!==e||(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},Ui.prototype._iterator=function(e){return new Di(this)},Ui.prototype._chainedBatch=function(){return new Ii(this)},Ui.prototype._serializeKey=function(e){return e},Ui.prototype._serializeValue=function(e){return e},Ui.prototype._checkKey=function(e){return null==e?new Error("key cannot be `null` or `undefined`"):Buffer.isBuffer(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},Ui.prototype._checkValue=function(e){if(null==e)return new Error("value cannot be `null` or `undefined`")};var qi={AbstractLevelDOWN:Ui,AbstractIterator:Di,AbstractChainedBatch:Ii};function Fi(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var zi=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Vi=function(e){return zi.exec(e).slice(1)};function Ki(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=Fi(Gi(e.split("/"),function(e){return!!e}),!t).join("/"))||"."}function Yi(e){var t=Hi(e),r="/"===Ji(e,-1);return(e=Fi(Gi(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function Hi(e){return"/"===e.charAt(0)}var $i={extname:function(e){return Vi(e)[3]},basename:function(e,t){var r=Vi(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},dirname:function(e){var t=Vi(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},sep:"/",delimiter:":",relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Ki(e).substr(1),t=Ki(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),s=o,a=0;a<o;a++)if(n[a]!==i[a]){s=a;break}var u=[];for(a=s;a<n.length;a++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},join:function(){return Yi(Gi(Array.prototype.slice.call(arguments,0),function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},isAbsolute:Hi,normalize:Yi,resolve:Ki};function Gi(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var Xi,Ji="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)};function Zi(){if(void 0===Xi){var e=new ArrayBuffer(2),t=new Uint8Array(e),r=new Uint16Array(e);if(t[0]=1,t[1]=2,258===r[0])Xi="BE";else{if(513!==r[0])throw new Error("unable to figure out endianess");Xi="LE"}}return Xi}function Qi(){return void 0!==global.location?global.location.hostname:""}function eo(){return[]}function to(){return 0}function ro(){return Number.MAX_VALUE}function no(){return Number.MAX_VALUE}function io(){return[]}function oo(){return"Browser"}function so(){return void 0!==global.navigator?global.navigator.appVersion:""}function ao(){}function uo(){}function co(){return"/tmp"}var fo=co,lo={EOL:"\n",tmpdir:fo,tmpDir:co,networkInterfaces:ao,getNetworkInterfaces:uo,release:so,type:oo,cpus:io,totalmem:no,freemem:ro,uptime:to,loadavg:eo,hostname:Qi,endianness:Zi},ho=n(Object.freeze({endianness:Zi,hostname:Qi,loadavg:eo,uptime:to,freemem:ro,totalmem:no,cpus:io,type:oo,release:so,networkInterfaces:ao,getNetworkInterfaces:uo,arch:function(){return"javascript"},platform:function(){return"browser"},tmpDir:co,tmpdir:fo,EOL:"\n",default:lo})),po="function"==typeof __webpack_require__?__non_webpack_require__:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},go=!!process.env.PREBUILDS_ONLY,bo=process.versions.modules,yo=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",vo=ho.arch(),wo=ho.platform(),mo=process.env.LIBC||(function(e){return"linux"===e&&Tl.existsSync("/etc/alpine-release")}(wo)?"musl":"glibc"),_o=process.env.ARM_VERSION||("arm64"===vo?"8":process.config.variables.arm_version)||"",Eo=(process.versions.uv||"").split(".")[0],ko=So;function So(e){return po(So.path(e))}function xo(e){try{return Tl.readdirSync(e)}catch(e){return[]}}function Ro(e,t){var r=xo(e).filter(t);return r[0]&&$i.join(e,r[0])}function To(e){return/\.node$/.test(e)}function jo(e){var t=e.split("."),r={file:e,specificity:0};if("node"===t.pop()){for(var n=0;n<t.length;n++){var i=t[n];if("node"===i||"electron"===i||"node-webkit"===i)r.runtime=i;else if("napi"===i)r.napi=!0;else if("abi"===i.slice(0,3))r.abi=i.slice(3);else if("uv"===i.slice(0,2))r.uv=i.slice(2);else if("armv"===i.slice(0,4))r.armv=i.slice(4);else{if("glibc"!==i&&"musl"!==i)continue;r.libc=i}r.specificity++}return r}}function Bo(e,t){return function(r){return null!=r&&(!(r.runtime!==e&&!function(e){return"node"===e.runtime&&e.napi}(r))&&(!(r.abi!==t&&!r.napi)&&((!r.uv||r.uv===Eo)&&((!r.armv||r.armv===_o)&&(!r.libc||r.libc===mo)))))}}function Oo(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}So.path=function(e){e=$i.resolve(e||".");try{var t=po($i.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!go){var r=Ro($i.join(e,"build/Release"),To);if(r)return r;var n=Ro($i.join(e,"build/Debug"),To);if(n)return n}var i=$i.join(e,"prebuilds",wo+"-"+vo),o=xo(i).map(jo).filter(Bo(yo,bo)).sort(Oo(yo))[0];if(o)return $i.join(i,o.file);var s=["platform="+wo,"arch="+vo,"runtime="+yo,"abi="+bo,"uv="+Eo,_o?"armv="+_o:"","libc="+mo].filter(Boolean).join(" ");throw new Error("No native build was found for "+s)},So.parseTags=jo,So.matchTags=Bo,So.compareTags=Oo;var Ao=ko(__dirname);const Lo=qi.AbstractChainedBatch;function Mo(e){Lo.call(this,e),this.context=Ao.batch_init(e.context)}Mo.prototype._put=function(e,t){Ao.batch_put(this.context,e,t)},Mo.prototype._del=function(e){Ao.batch_del(this.context,e)},Mo.prototype._clear=function(){Ao.batch_clear(this.context)},Mo.prototype._write=function(e,t){Ao.batch_write(this.context,e,t)},ce.inherits(Mo,Lo);var Do=Mo;const Co=qi.AbstractIterator;function Io(e,t){Co.call(this,e),this.context=Ao.iterator_init(e.context,t),this.cache=null,this.finished=!1}ce.inherits(Io,Co),Io.prototype._seek=function(e){if(0===e.length)throw new Error("cannot seek() to an empty target");this.cache=null,Ao.iterator_seek(this.context,e),this.finished=!1},Io.prototype._next=function(e){var t=this;return this.cache&&this.cache.length?process.nextTick(e,null,this.cache.pop(),this.cache.pop()):this.finished?process.nextTick(e):Ao.iterator_next(this.context,function(r,n,i){if(r)return e(r);t.cache=n,t.finished=i,t._next(e)}),this},Io.prototype._end=function(e){delete this.cache,Ao.iterator_end(this.context,e)};var No=Io;const Po=qi.AbstractLevelDOWN;function Uo(e){if(!(this instanceof Uo))return new Uo(e);if("string"!=typeof e)throw new Error("constructor requires a location string argument");Po.call(this),this.location=e,this.context=Ao.db_init()}ce.inherits(Uo,Po),Uo.prototype._open=function(e,t){Ao.db_open(this.context,this.location,e,t)},Uo.prototype._close=function(e){Ao.db_close(this.context,e)},Uo.prototype._serializeKey=function(e){return Buffer.isBuffer(e)?e:String(e)},Uo.prototype._serializeValue=function(e){return Buffer.isBuffer(e)?e:String(e)},Uo.prototype._put=function(e,t,r,n){Ao.db_put(this.context,e,t,r,n)},Uo.prototype._get=function(e,t,r){Ao.db_get(this.context,e,t,r)},Uo.prototype._del=function(e,t,r){Ao.db_del(this.context,e,t,r)},Uo.prototype._chainedBatch=function(){return new Do(this)},Uo.prototype._batch=function(e,t,r){Ao.batch_do(this.context,e,t,r)},Uo.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start` and `end` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");e=this._serializeKey(e),t=this._serializeKey(t),Ao.db_approximate_size(this.context,e,t,r)},Uo.prototype.compactRange=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("compactRange() requires valid `start` and `end` arguments");if("function"!=typeof r)throw new Error("compactRange() requires a callback argument");e=this._serializeKey(e),t=this._serializeKey(t),Ao.db_compact_range(this.context,e,t,r)},Uo.prototype.getProperty=function(e){if("string"!=typeof e)throw new Error("getProperty() requires a valid `property` argument");return Ao.db_get_property(this.context,e)},Uo.prototype._iterator=function(e){if("open"!==this.status)throw new Error("cannot call iterator() before open()");return new No(this,e)},Uo.destroy=function(e,t){if(arguments.length<2)throw new Error("destroy() requires `location` and `callback` arguments");if("string"!=typeof e)throw new Error("destroy() requires a location string argument");if("function"!=typeof t)throw new Error("destroy() requires a callback function argument");Ao.destroy_db(e,t)},Uo.repair=function(e,t){if(arguments.length<2)throw new Error("repair() requires `location` and `callback` arguments");if("string"!=typeof e)throw new Error("repair() requires a location string argument");if("function"!=typeof t)throw new Error("repair() requires a callback function argument");Ao.repair_db(e,t)};var Wo,qo,Fo=Uo.default=Uo,zo=n(li),Vo=n(Bi),Ko=ar.LevelUPError,Yo=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le"],Ho={createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},$o=function(){function e(e){return null==e||Buffer.isBuffer(e)}var t={};return t.utf8=t["utf-8"]={encode:function(t){return e(t)?t:String(t)},decode:function(e){return e},buffer:!1,type:"utf8"},t.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},Yo.forEach(function(r){t[r]||(t[r]={encode:function(t){return e(t)?t:new Buffer(t,r)},decode:function(e){return process.browser?e.toString(r):e},buffer:!0,type:r})}),t}(),Go=(qo={},Yo.forEach(function(e){qo[e]={valueEncoding:e}}),qo);function Xo(e,t){var r=t&&t.keyEncoding||e.keyEncoding||"utf8";return $o[r]||r}function Jo(e,t){var r=t&&(t.valueEncoding||t.encoding)||e.valueEncoding||e.encoding||"utf8";return $o[r]||r}var Zo={defaultOptions:Ho,copy:function(e,t,r){e.readStream().pipe(t.writeStream()).on("close",r||function(){}).on("error",r||function(e){throw e})},getOptions:function(e,t){var r="string"==typeof t;return!r&&t&&t.encoding&&!t.valueEncoding&&(t.valueEncoding=t.encoding),Ft(e&&e.options||{},r?Go[t]||Go[Ho.valueEncoding]:t)},getLevelDOWN:function(){if(Wo)return Wo;var e,t=zo.devDependencies.leveldown;try{e=Vo.version}catch(e){throw new Ko("Could not locate LevelDOWN, try `npm install leveldown`")}if(!Oi.satisfies(e,t))throw new Ko("Installed version of LevelDOWN ("+e+") does not match required version ("+t+")");try{return Wo=Fo}catch(e){throw new Ko("Could not locate LevelDOWN, try `npm install leveldown`")}},dispatchError:function(e,t,r){return"function"==typeof r?r(t):e.emit("error",t)},encodeKey:function(e,t,r){return Xo(t,r).encode(e)},encodeValue:function(e,t,r){return Jo(t,r).encode(e)},isValueAsBuffer:function(e,t){return Jo(e,t).buffer},isKeyAsBuffer:function(e,t){return Xo(e,t).buffer},decodeValue:function(e,t){return Jo(t).decode(e)},decodeKey:function(e,t){return Xo(t).decode(e)}},Qo=Vn.Readable,es=ce.inherits,ts=ar.EncodingError,rs={keys:!0,values:!0},ns=function(e,t){return{key:Zo.decodeKey(e,this._options),value:Zo.decodeValue(t,this._options)}},is=function(e){return Zo.decodeKey(e,this._options)},os=function(e,t){return Zo.decodeValue(t,this._options)},ss=function(){return null};function as(e,t,r){if(!(this instanceof as))return new as(e,t,r);Qo.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this._db=t,e=this._options=Ft(rs,e),this._keyEncoding=e.keyEncoding||e.encoding,this._valueEncoding=e.valueEncoding||e.encoding,void 0!==this._options.start&&(this._options.start=Zo.encodeKey(this._options.start,this._options)),void 0!==this._options.end&&(this._options.end=Zo.encodeKey(this._options.end,this._options)),"number"!=typeof this._options.limit&&(this._options.limit=-1),this._options.keyAsBuffer=Zo.isKeyAsBuffer(this._options),this._options.valueAsBuffer=Zo.isValueAsBuffer(this._options),this._makeData=this._options.keys&&this._options.values?ns:this._options.keys?is:this._options.values?os:ss;var n=this;this._db.isOpen()?this._iterator=r(this._options):this._db.once("ready",function(){n._destroyed||(n._iterator=r(n._options))})}es(as,Qo),as.prototype._read=function e(){var t=this;if(!t._db.isOpen())return t._db.once("ready",function(){e.call(t)});t._destroyed||t._iterator.next(function(e,r,n){if(e||void 0===r&&void 0===n)return e||t._destroyed||t.push(null),t._cleanup(e);try{n=t._makeData(r,n)}catch(e){return t._cleanup(new ts(e))}t._destroyed||t.push(n)})},as.prototype._cleanup=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;e&&t.emit("error",e),t._iterator?t._iterator.end(function(){t._iterator=null,t.emit("close")}):t.emit("close")}},as.prototype.destroy=function(){this._cleanup()},as.prototype.toString=function(){return"LevelUP.ReadStream"};var us=as,cs=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},fs=r(function(e,t){var r=ht.Buffer,n=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var i=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!n(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function o(e){return e.toString(this.encoding)}function s(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}i.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},i.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},i.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}}),ls=(fs.StringDecoder,bs),hs=ht.Buffer;bs.ReadableState=gs;var ds,ps=sn.EventEmitter;function gs(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(ds||(ds=fs.StringDecoder),this.decoder=new ds(e.encoding),this.encoding=e.encoding)}function bs(e){if(!(this instanceof bs))return new bs(e);this._readableState=new gs(e,this),this.readable=!0,an.call(this)}function ys(e,t,r,n,i){var o=function(e,t){var r=null;hs.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?ms(e):Rs(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&ms(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)}))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}ps.listenerCount||(ps.listenerCount=function(e,t){return e.listeners(t).length}),tn.inherits=nn,tn.inherits(bs,an),bs.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new hs(e,t),t=""),ys(this,r,e,t,!1)},bs.prototype.unshift=function(e){return ys(this,this._readableState,e,"",!0)},bs.prototype.setEncoding=function(e){ds||(ds=fs.StringDecoder),this._readableState.decoder=new ds(e),this._readableState.encoding=e};var vs=8388608;function ws(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=vs)e=vs;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function ms(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick(function(){_s(e)}):_s(e))}function _s(e){e.emit("readable")}function Es(e){var t,r=e._readableState;function n(e,n,i){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):Ts(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(ps.listenerCount(e,"data")>0&&Ss(e));r.ranOut=!0}function ks(){this._readableState.ranOut&&(this._readableState.ranOut=!1,Es(this))}function Ss(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=an.prototype.pipe,e.on=e.addListener=an.prototype.on,e.on("readable",function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function xs(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!e||e>=i)r=o?n.join(""):hs.concat(n,i),n.length=0;else{if(e<n[0].length)r=(f=n[0]).slice(0,e),n[0]=f.slice(e);else if(e===n[0].length)r=n.shift();else{r=o?"":new hs(e);for(var a=0,u=0,c=n.length;u<c&&a<e;u++){var f=n[0],l=Math.min(e-a,f.length);o?r+=f.slice(0,l):f.copy(r,a,0,l),l<f.length?n[0]=f.slice(l):n.shift(),a+=l}}}return r}function Rs(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function Ts(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}bs.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return ms(this),null;if(0===(e=ws(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=xs(e,t),t.length-=r.length),0===t.length&&Rs(this),r;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=ws(n,t)),null===(r=e>0?xs(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&Rs(this),r},bs.prototype._read=function(e){this.emit("error",new Error("not implemented"))},bs.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1;var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:u;function o(e){e===r&&u()}function s(){e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&Es(e)}}(r);function u(){e.removeListener("close",f),e.removeListener("finish",l),e.removeListener("drain",a),e.removeListener("error",c),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),e._writableState&&!e._writableState.needDrain||a()}function c(t){h(),e.removeListener("error",c),0===ps.listenerCount(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",l),h()}function l(){e.removeListener("close",f),h()}function h(){r.unpipe(e)}return e.on("drain",a),e._events&&e._events.error?cs(e._events.error)?e._events.error.unshift(c):e._events.error=[c,e._events.error]:e.on("error",c),e.once("close",f),e.once("finish",l),e.emit("pipe",r),n.flowing||(this.on("readable",ks),n.flowing=!0,process.nextTick(function(){Es(r)})),e},bs.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",ks),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",ks),t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},bs.prototype.on=function(e,t){var r=an.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||Ss(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&ms(this):this.read(0))}return r},bs.prototype.addListener=bs.prototype.on,bs.prototype.resume=function(){Ss(this),this.read(0),this.emit("resume")},bs.prototype.pause=function(){Ss(this,!0),this.emit("pause")},bs.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return Ts(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){r&&(r=!1,e.resume())},n},bs._fromList=xs;var js=Os,Bs=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Os(e){if(!(this instanceof Os))return new Os(e);ls.call(this,e),Ls.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",As)}function As(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}tn.inherits=nn,tn.inherits(Os,ls),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(Bs(Ls.prototype),function(e){Os.prototype[e]||(Os.prototype[e]=Ls.prototype[e])});var Ls=Is,Ms=ht.Buffer;function Ds(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function Cs(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){r?process.nextTick(function(){i(n)}):i(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,i);else{var o=Us(e,r);o||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],i=n.chunk,o=n.encoding,s=n.callback,a=t.objectMode?1:i.length;if(Ns(e,t,a,i,o,s),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick(function(){Ps(e,r,o,i)}):Ps(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function Is(e){if(!(this instanceof Is||this instanceof js))return new Is(e);this._writableState=new Cs(e,this),this.writable=!0,an.call(this)}function Ns(e,t,r,n,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function Ps(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&Ws(e,t)}function Us(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function Ws(e,t){var r=Us(0,t);return r&&(t.finished=!0,e.emit("finish")),r}Is.WritableState=Cs,tn.inherits=nn,tn.inherits(Is,an),Is.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Is.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),Ms.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){r(n)})}(this,0,r):function(e,t,r,n){var i=!0;if(!Ms.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){n(o)}),i=!1}return i}(this,n,e,r)&&(i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new Ms(t,r)),t}(t,r,n),Ms.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);t.writing?t.buffer.push(new Ds(r,n,i)):Ns(e,t,o,r,n,i);return s}(this,n,e,t,r)),i},Is.prototype._write=function(e,t,r){r(new Error("not implemented"))},Is.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,Ws(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)};var qs=zs;function Fs(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function zs(e){if(!(this instanceof zs))return new zs(e);js.call(this,e);this._transformState=new Fs(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){Vs(t,e)}):Vs(t)})}function Vs(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}tn.inherits=nn,tn.inherits(zs,js),zs.prototype.push=function(e,t){return this._transformState.needTransform=!1,js.prototype.push.call(this,e,t)},zs.prototype._transform=function(e,t,r){throw new Error("not implemented")},zs.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},zs.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};var Ks=Ys;function Ys(e){if(!(this instanceof Ys))return new Ys(e);qs.call(this,e)}tn.inherits=nn,tn.inherits(Ys,qs),Ys.prototype._transform=function(e,t,r){r(null,e)};var Hs=r(function(e,t){(t=e.exports=ls).Stream=an,t.Readable=t,t.Writable=Ls,t.Duplex=js,t.Transform=qs,t.PassThrough=Ks,process.browser||"disable"!==process.env.READABLE_STREAM||(e.exports=an)}),$s=(Hs.Stream,Hs.Readable,Hs.Writable,Hs.Duplex,Hs.Transform,Hs.PassThrough,Hs.Duplex);function Gs(e){if(!(this instanceof Gs))return new Gs(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else Buffer.isBuffer(e)?this.append(e):Array.isArray(e)&&e.forEach(function(e){Buffer.isBuffer(e)&&this.append(e)}.bind(this));$s.call(this)}ce.inherits(Gs,$s),Gs.prototype._offset=function(e){for(var t,r=0,n=0;n<this._bufs.length;n++){if(e<(t=r+this._bufs[n].length))return[n,e-r];r=t}},Gs.prototype.append=function(e){return this._bufs.push(Buffer.isBuffer(e)?e:new Buffer(e)),this.length+=e.length,this},Gs.prototype._write=function(e,t,r){this.append(e),r&&r()},Gs.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},Gs.prototype.end=function(e){$s.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},Gs.prototype.get=function(e){return this.slice(e,e+1)[0]},Gs.prototype.slice=function(e,t){return this.copy(null,0,e,t)},Gs.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||new Buffer(0);if(n<=0)return e||new Buffer(0);var i,o,s=!!e,a=this._offset(r),u=n-r,c=u,f=s&&t||0,l=a[1];if(0===r&&n==this.length){if(!s)return Buffer.concat(this._bufs);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(e,f),f+=this._bufs[o].length;return e}if(c<=this._bufs[a[0]].length-l)return s?this._bufs[a[0]].copy(e,t,l,l+c):this._bufs[a[0]].slice(l,l+c);for(s||(e=new Buffer(u)),o=a[0];o<this._bufs.length;o++){if(!(c>(i=this._bufs[o].length-l))){this._bufs[o].copy(e,f,l,l+c);break}this._bufs[o].copy(e,f,l),f+=i,c-=i,l&&(l=0)}return e},Gs.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},Gs.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},Gs.prototype.duplicate=function(){for(var e=0,t=new Gs;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},Gs.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){Gs.prototype[t]=function(r){return this.slice(r,r+e[t])[t](0)}}(t)}();var Xs=Gs,Js=an.Stream,Zs=ce.inherits,Qs=t.setImmediate||process.nextTick,ea=Zo.getOptions,ta={type:"put"};function ra(e,t){if(!(this instanceof ra))return new ra(e,t);Js.call(this),this._options=Ft(ta,ea(t,e)),this._db=t,this._buffer=[],this._status="init",this._end=!1,this.writable=!0,this.readable=!1;var r=this,n=function(){r.writable&&(r._status="ready",r.emit("ready"),r._process())};t.isOpen()?Qs(n):t.once("ready",n)}Zs(ra,Js),ra.prototype.write=function(e){return!!this.writable&&(this._buffer.push(e),"init"!=this._status&&this._processDelayed(),!(this._options.maxBufferLength&&this._buffer.length>this._options.maxBufferLength)||(this._writeBlock=!0,!1))},ra.prototype.end=function(e){var t=this;e&&this.write(e),Qs(function(){t._end=!0,t._process()})},ra.prototype.destroy=function(){this.writable=!1,this.end()},ra.prototype.destroySoon=function(){this.end()},ra.prototype.add=function(e){if(e.props)return e.props.Directory?e.pipe(this._db.writeStream(this._options)):(e.props.File||e.File||"File"==e.type)&&this._write(e),!0},ra.prototype._processDelayed=function(){var e=this;Qs(function(){e._process()})},ra.prototype._process=function(){var e,t=this;if("ready"==t._status||!t.writable)return t._buffer.length&&t.writable?(t._status="writing",e=t._buffer,t._buffer=[],t._db.batch(e.map(function(e){return{type:e.type||t._options.type,key:e.key,value:e.value,keyEncoding:e.keyEncoding||t._options.keyEncoding,valueEncoding:e.valueEncoding||e.encoding||t._options.valueEncoding}}),function(e){if(t.writable){if("closed"!=t._status&&(t._status="ready"),e)return t.writable=!1,t.emit("error",e);t._process()}}),void(t._writeBlock&&(t._writeBlock=!1,t.emit("drain")))):void(t._end&&"closed"!=t._status&&(t._status="closed",t.writable=!1,t.emit("close")));t._buffer.length&&"closed"!=t._status&&t._processDelayed()},ra.prototype._write=function(e){var t=e.path||e.props.path,r=this;t&&e.pipe(Xs(function(e,n){if(e)return r.writable=!1,r.emit("error",e);r._options.fstreamRoot&&t.indexOf(r._options.fstreamRoot)>-1&&(t=t.substr(r._options.fstreamRoot.length+1)),r.write({key:t,value:n.slice(0)})}))},ra.prototype.toString=function(){return"LevelUP.WriteStream"};var na=ra,ia=ar.WriteError,oa=Zo.getOptions,sa=Zo.dispatchError;function aa(e){this._levelup=e,this.batch=e.db.batch(),this.ops=[]}aa.prototype.put=function(e,t,r){r=oa(this._levelup,r);var n=Zo.encodeKey(e,r),i=Zo.encodeValue(t,r);try{this.batch.put(n,i)}catch(e){throw new ia(e)}return this.ops.push({type:"put",key:n,value:i}),this},aa.prototype.del=function(e,t){t=oa(this._levelup,t);var r=Zo.encodeKey(e,t);try{this.batch.del(r)}catch(e){throw new ia(e)}return this.ops.push({type:"del",key:r}),this},aa.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new ia(e)}return this.ops=[],this},aa.prototype.write=function(e){var t=this._levelup,r=this.ops;try{this.batch.write(function(n){if(n)return sa(t,new ia(n),e);t.emit("batch",r),e&&e()})}catch(e){throw new ia(e)}};var ua=aa,ca=sn.EventEmitter,fa=ce.inherits,la=ar.WriteError,ha=ar.ReadError,da=ar.NotFoundError,pa=ar.OpenError,ga=ar.EncodingError,ba=ar.InitializationError,ya=Zo.getOptions,va=Zo.defaultOptions,wa=Zo.getLevelDOWN,ma=Zo.dispatchError;function _a(e,t){return"function"==typeof e?e:t}function Ea(e,t,r){if(!(this instanceof Ea))return new Ea(e,t,r);var n;if(ca.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(n=new ba("Must provide a location for the database"),r)return process.nextTick(function(){r(n)});throw n}t=ya(this,t),this.options=Ft(va,t),this._status="new",zt(this,"location",e,"e"),this.open(r)}function ka(e){return function(t,r){wa()[e](t,r||function(){})}}fa(Ea,ca),Ea.prototype.open=function(e){var t,r,n=this;return this.isOpen()?(e&&process.nextTick(function(){e(null,n)}),this):this._isOpening()?e&&this.once("open",function(){e(null,n)}):(this.emit("opening"),this._status="opening",this.db=new Zt(this.location),t=this.options.db||wa(),void(r=t(this.location)).open(this.options,function(t){if(t)return ma(n,new pa(t),e);n.db.setDb(r),n.db=r,n._status="open",e&&e(null,n),n.emit("open"),n.emit("ready")}))},Ea.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close(function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)}),this.emit("closing"),this.db=null;else{if("closed"==this._status&&e)return process.nextTick(e);"closing"==this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",function(){t.close(e)})}},Ea.prototype.isOpen=function(){return"open"==this._status},Ea.prototype._isOpening=function(){return"opening"==this._status},Ea.prototype.isClosed=function(){return/^clos/.test(this._status)},Ea.prototype.get=function(e,t,r){var n,i=this;return"function"!=typeof(r=_a(t,r))?ma(this,new ha("get() requires key and callback arguments")):this._isOpening()||this.isOpen()?(t=Zo.getOptions(this,t),n=Zo.encodeKey(e,t),t.asBuffer=Zo.isValueAsBuffer(t),void this.db.get(n,t,function(n,o){if(n)return n=/notfound/i.test(n)?new da("Key not found in database ["+e+"]",n):new ha(n),ma(i,n,r);if(r){try{o=Zo.decodeValue(o,t)}catch(e){return r(new ga(e))}r(null,o)}})):ma(this,new ha("Database is not open"),r)},Ea.prototype.put=function(e,t,r,n){var i,o,s=this;return n=_a(r,n),null==e||null==t?ma(this,new la("put() requires key and value arguments"),n):this._isOpening()||this.isOpen()?(r=ya(this,r),i=Zo.encodeKey(e,r),o=Zo.encodeValue(t,r),void this.db.put(i,o,r,function(r){if(r)return ma(s,new la(r),n);s.emit("put",e,t),n&&n()})):ma(this,new la("Database is not open"),n)},Ea.prototype.del=function(e,t,r){var n,i=this;return r=_a(t,r),null==e?ma(this,new la("del() requires a key argument"),r):this._isOpening()||this.isOpen()?(t=ya(this,t),n=Zo.encodeKey(e,t),void this.db.del(n,t,function(t){if(t)return ma(i,new la(t),r);i.emit("del",e),r&&r()})):ma(this,new la("Database is not open"),r)},Ea.prototype.batch=function(e,t,r){var n,i,o,s=this;return arguments.length?(r=_a(t,r),Array.isArray(e)?this._isOpening()||this.isOpen()?(t=ya(this,t),n=t.keyEncoding,i=t.valueEncoding,o=e.map(function(e){if(void 0===e.type||void 0===e.key)return{};var r,o=e.keyEncoding||n,s=e.valueEncoding||e.encoding||i;return"utf8"!=o&&"binary"!=o||"utf8"!=s&&"binary"!=s?(r={type:e.type,key:Zo.encodeKey(e.key,t,e)},void 0!==e.value&&(r.value=Zo.encodeValue(e.value,t,e)),r):e}),void this.db.batch(o,t,function(t){if(t)return ma(s,new la(t),r);s.emit("batch",e),r&&r()})):ma(this,new la("Database is not open"),r):ma(this,new la("batch() requires an array argument"),r)):new ua(this)},Ea.prototype.approximateSize=function(e,t,r){var n,i,o=this;return null==e||null==t||"function"!=typeof r?ma(this,new ha("approximateSize() requires start, end and callback arguments"),r):(n=Zo.encodeKey(e,this.options),i=Zo.encodeKey(t,this.options),this._isOpening()||this.isOpen()?void this.db.approximateSize(n,i,function(e,t){if(e)return ma(o,new pa(e),r);r&&r(null,t)}):ma(this,new la("Database is not open"),r))},Ea.prototype.readStream=Ea.prototype.createReadStream=function(e){var t=this;return e=Ft(this.options,e),new us(e,this,function(e){return t.db.iterator(e)})},Ea.prototype.keyStream=Ea.prototype.createKeyStream=function(e){return this.createReadStream(Ft(e,{keys:!0,values:!1}))},Ea.prototype.valueStream=Ea.prototype.createValueStream=function(e){return this.createReadStream(Ft(e,{keys:!1,values:!0}))},Ea.prototype.writeStream=Ea.prototype.createWriteStream=function(e){return new na(Ft(e),this)},Ea.prototype.toString=function(){return"LevelUP"};var Sa=Ea,xa=Zo.copy,Ra=ka("destroy"),Ta=ka("repair");Sa.copy=xa,Sa.destroy=Ra,Sa.repair=Ta;var ja=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Ba=r(function(e,t){var r=ht.Buffer,n=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var i=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!n(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function o(e){return e.toString(this.encoding)}function s(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}i.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},i.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},i.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}}),Oa=(Ba.StringDecoder,Ca),Aa=ht.Buffer;Ca.ReadableState=Da;var La,Ma=sn.EventEmitter;function Da(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(La||(La=Ba.StringDecoder),this.decoder=new La(e.encoding),this.encoding=e.encoding)}function Ca(e){if(!(this instanceof Ca))return new Ca(e);this._readableState=new Da(e,this),this.readable=!0,an.call(this)}function Ia(e,t,r,n,i){var o=function(e,t){var r=null;Aa.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?Ua(e):Ka(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&Ua(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)}))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}Ma.listenerCount||(Ma.listenerCount=function(e,t){return e.listeners(t).length}),tn.inherits=nn,tn.inherits(Ca,an),Ca.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new Aa(e,t),t=""),Ia(this,r,e,t,!1)},Ca.prototype.unshift=function(e){return Ia(this,this._readableState,e,"",!0)},Ca.prototype.setEncoding=function(e){La||(La=Ba.StringDecoder),this._readableState.decoder=new La(e),this._readableState.encoding=e};var Na=8388608;function Pa(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=Na)e=Na;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function Ua(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick(function(){Wa(e)}):Wa(e))}function Wa(e){e.emit("readable")}function qa(e){var t,r=e._readableState;function n(e,n,i){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):Ya(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(Ma.listenerCount(e,"data")>0&&za(e));r.ranOut=!0}function Fa(){this._readableState.ranOut&&(this._readableState.ranOut=!1,qa(this))}function za(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=an.prototype.pipe,e.on=e.addListener=an.prototype.on,e.on("readable",function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function Va(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!e||e>=i)r=o?n.join(""):Aa.concat(n,i),n.length=0;else{if(e<n[0].length)r=(f=n[0]).slice(0,e),n[0]=f.slice(e);else if(e===n[0].length)r=n.shift();else{r=o?"":new Aa(e);for(var a=0,u=0,c=n.length;u<c&&a<e;u++){var f=n[0],l=Math.min(e-a,f.length);o?r+=f.slice(0,l):f.copy(r,a,0,l),l<f.length?n[0]=f.slice(l):n.shift(),a+=l}}}return r}function Ka(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function Ya(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}Ca.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Ua(this),null;if(0===(e=Pa(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=Va(e,t),t.length-=r.length),0===t.length&&Ka(this),r;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=Pa(n,t)),null===(r=e>0?Va(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&Ka(this),r},Ca.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Ca.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1;var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:u;function o(e){e===r&&u()}function s(){e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&qa(e)}}(r);function u(){e.removeListener("close",f),e.removeListener("finish",l),e.removeListener("drain",a),e.removeListener("error",c),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),e._writableState&&!e._writableState.needDrain||a()}function c(t){h(),e.removeListener("error",c),0===Ma.listenerCount(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",l),h()}function l(){e.removeListener("close",f),h()}function h(){r.unpipe(e)}return e.on("drain",a),e._events&&e._events.error?ja(e._events.error)?e._events.error.unshift(c):e._events.error=[c,e._events.error]:e.on("error",c),e.once("close",f),e.once("finish",l),e.emit("pipe",r),n.flowing||(this.on("readable",Fa),n.flowing=!0,process.nextTick(function(){qa(r)})),e},Ca.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",Fa),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",Fa),t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Ca.prototype.on=function(e,t){var r=an.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||za(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&Ua(this):this.read(0))}return r},Ca.prototype.addListener=Ca.prototype.on,Ca.prototype.resume=function(){za(this),this.read(0),this.emit("resume")},Ca.prototype.pause=function(){za(this,!0),this.emit("pause")},Ca.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return Ya(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){r&&(r=!1,e.resume())},n},Ca._fromList=Va;var Ha=Ga,$a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Ga(e){if(!(this instanceof Ga))return new Ga(e);Oa.call(this,e),Ja.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Xa)}function Xa(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}tn.inherits=nn,tn.inherits(Ga,Oa),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}($a(Ja.prototype),function(e){Ga.prototype[e]||(Ga.prototype[e]=Ja.prototype[e])});var Ja=tu,Za=ht.Buffer;function Qa(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function eu(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){r?process.nextTick(function(){i(n)}):i(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,i);else{var o=iu(e,r);o||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],i=n.chunk,o=n.encoding,s=n.callback,a=t.objectMode?1:i.length;if(ru(e,t,a,i,o,s),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick(function(){nu(e,r,o,i)}):nu(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function tu(e){if(!(this instanceof tu||this instanceof Ha))return new tu(e);this._writableState=new eu(e,this),this.writable=!0,an.call(this)}function ru(e,t,r,n,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function nu(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&ou(e,t)}function iu(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function ou(e,t){var r=iu(0,t);return r&&(t.finished=!0,e.emit("finish")),r}tu.WritableState=eu,tn.inherits=nn,tn.inherits(tu,an),tu.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},tu.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),Za.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){r(n)})}(this,0,r):function(e,t,r,n){var i=!0;if(!Za.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){n(o)}),i=!1}return i}(this,n,e,r)&&(i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new Za(t,r)),t}(t,r,n),Za.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);t.writing?t.buffer.push(new Qa(r,n,i)):ru(e,t,o,r,n,i);return s}(this,n,e,t,r)),i},tu.prototype._write=function(e,t,r){r(new Error("not implemented"))},tu.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,ou(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)};var su=Ja,au=cu;function uu(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function cu(e){if(!(this instanceof cu))return new cu(e);Ha.call(this,e);this._transformState=new uu(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){fu(t,e)}):fu(t)})}function fu(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}tn.inherits=nn,tn.inherits(cu,Ha),cu.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ha.prototype.push.call(this,e,t)},cu.prototype._transform=function(e,t,r){throw new Error("not implemented")},cu.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},cu.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};var lu=hu;function hu(e){if(!(this instanceof hu))return new hu(e);au.call(this,e)}tn.inherits=nn,tn.inherits(hu,au),hu.prototype._transform=function(e,t,r){r(null,e)};var du=r(function(e,t){(t=e.exports=Oa).Stream=an,t.Readable=t,t.Writable=Ja,t.Duplex=Ha,t.Transform=au,t.PassThrough=lu,process.browser||"disable"!==process.env.READABLE_STREAM||(e.exports=an)}),pu=(du.Stream,du.Readable,du.Writable,du.Duplex,du.Transform,du.PassThrough,Ha),gu=r(function(e,t){var r=new Buffer(0),n=function(){},i=function(e){return"function"==typeof e?e:function(t){t(null,e)}},o=function(e,t){var r=!1,n=!1;return e._read=function(){r=!0},e.destroy=function(){n=!0},t(function(t,i){if(t)return e.emit("error",t);var o=function(){for(var t;null!==(t=i.read());)r=!1,e.push(t)};if(i.on("readable",function(){r&&o()}),i.on("end",function(){o(),e.push(null)}),i.on("error",function(t){e.emit("error",t)}),i.on("close",function(){o(),process.nextTick(function(){e.emit("close")})}),e._read=function(){r=!0,o()},e.destroy=function(){n||(n=!0,i.destroy&&i.destroy())},n)return n=!1,void e.destroy();r&&o()}),e},s=function(e,t){var i=n,o=!1;return e._write=function(e,t,r){i=r},e.destroy=function(){o=!0},e.write(r),t(function(t,n){if(t)return e.emit("error",t);n.on("close",function(){e.emit("close")}),n.on("error",function(t){e.emit("error",t)}),e._write=function(e,t,i){if(e===r)return i();n.write(e,t,i)};var s=e.emit;if(n.on("finish",function(){s.call(e,"finish")}),e.destroy=function(){o||(o=!0,n.destroy&&n.destroy())},e.emit=function(t){if("finish"!==t)return s.apply(e,arguments);n.end()},o)return o=!1,void e.destroy();i()}),e};t.readable=function(e,r){return 1===arguments.length?t.readable(null,e):(e||(e={}),o(new du(e),i(r)))},t.writable=function(e,r){return 1===arguments.length?t.writable(null,e):(e||(e={}),s(new su(e),i(r)))},t.duplex=function(e,r,n){if(2===arguments.length)return t.duplex(null,e,r);e||(e={});var a=new pu(e);return s(a,i(r)),o(a,i(n)),a}}),bu=(gu.readable,gu.writable,gu.duplex,r(function(e,t){var r=t.range=function(e){return null==e?{}:"string"==typeof r?{min:r,max:r+"ÿ"}:e},n=(t.prefix=function(e,r,n){var i={};return n=n||"ÿ",(e=t.range(e))instanceof RegExp||"function"==typeof e?(i.min=r,i.max=r+n,i.inner=function(t){var n=t.substring(r.length);return e.test?e.test(n):e(n)}):"object"==typeof e&&(i.min=r+(e.min||e.start||""),i.max=r+(e.max||e.end||n||"~"),i.reverse=!!e.reverse),i},t.checker=function(e){return e||(e={}),"string"==typeof e?function(t){return 0==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:"object"==typeof e?function(t){var r=e.min||e.start,n=e.max||e.end;return t=String(t),(!r||t>=r)&&(!n||t<=n)&&(!e.inner||(e.inner.test?e.inner.test(t):e.inner(t)))}:"function"==typeof e?e:void 0});t.satisfies=function(e,t){return n(t)(e)}})),yu=(bu.range,bu.prefix,bu.checker,bu.satisfies,r(function(e){function t(e){return Object.prototype.toString.call(e)}var r={isArray:function(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===t(e)},isDate:function(e){return"object"==typeof e&&"[object Date]"===t(e)},isRegExp:function(e){return"object"==typeof e&&"[object RegExp]"===t(e)},getRegExpFlags:function(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}};function n(e,t,n,i){var o=[],s=[],a="undefined"!=typeof Buffer;return void 0===t&&(t=!0),void 0===n&&(n=1/0),function e(n,u){if(null===n)return null;if(0==u)return n;var c,f;if("object"!=typeof n)return n;if(r.isArray(n))c=[];else if(r.isRegExp(n))c=new RegExp(n.source,r.getRegExpFlags(n)),n.lastIndex&&(c.lastIndex=n.lastIndex);else if(r.isDate(n))c=new Date(n.getTime());else{if(a&&Buffer.isBuffer(n))return c=new Buffer(n.length),n.copy(c),c;void 0===i?(f=Object.getPrototypeOf(n),c=Object.create(f)):(c=Object.create(i),f=i)}if(t){var l=o.indexOf(n);if(-1!=l)return s[l];o.push(n),s.push(c)}for(var h in n){var d;f&&(d=Object.getOwnPropertyDescriptor(f,h)),d&&null==d.set||(c[h]=e(n[h],u-1))}return c}(e,n)}e.exports=n,n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t}})),vu=function(e){var t=(e=yu(e)).reverse,r=e.max||e.end,n=e.min||e.start,i=[n,r];return null!=n&&null!=r&&i.sort(),t&&(i=i.reverse()),e.start=i[0],e.end=i[1],delete e.min,delete e.max,e},wu=r(function(e){var t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=function(e){return e!=e},o={boolean:1,number:1,string:1,undefined:1},s=e.exports={};s.a=s.type=function(e,t){return typeof e===t},s.defined=function(e){return void 0!==e},s.empty=function(e){var t,i=n.call(e);if("[object Array]"===i||"[object Arguments]"===i)return 0===e.length;if("[object Object]"===i){for(t in e)if(r.call(e,t))return!1;return!0}return"[object String]"===i&&""===e},s.equal=function(e,t){var r,i=n.call(e);if(i!==n.call(t))return!1;if("[object Object]"===i){for(r in e)if(!s.equal(e[r],t[r]))return!1;return!0}if("[object Array]"===i){if((r=e.length)!==t.length)return!1;for(;--r;)if(!s.equal(e[r],t[r]))return!1;return!0}return"[object Function]"===i?e.prototype===t.prototype:"[object Date]"===i?e.getTime()===t.getTime():e===t},s.hosted=function(e,t){var r=typeof t[e];return"object"===r?!!t[e]:!o[r]},s.instance=s.instanceof=function(e,t){return e instanceof t},s.null=function(e){return null===e},s.undefined=function(e){return void 0===e},s.arguments=function(e){var t="[object Arguments]"===n.call(e),r=!s.array(e)&&s.arraylike(e)&&s.object(e)&&s.fn(e.callee);return t||r},s.array=function(e){return"[object Array]"===n.call(e)},s.arguments.empty=function(e){return s.arguments(e)&&0===e.length},s.array.empty=function(e){return s.array(e)&&0===e.length},s.arraylike=function(e){return!!e&&!s.boolean(e)&&r.call(e,"length")&&isFinite(e.length)&&s.number(e.length)&&e.length>=0},s.boolean=function(e){return"[object Boolean]"===n.call(e)},s.false=function(e){return s.boolean(e)&&(!1===e||!1===e.valueOf())},s.true=function(e){return s.boolean(e)&&(!0===e||!0===e.valueOf())},s.date=function(e){return"[object Date]"===n.call(e)},s.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},s.error=function(e){return"[object Error]"===n.call(e)},s.fn=s.function=function(e){return"undefined"!=typeof window&&e===window.alert||"[object Function]"===n.call(e)},s.number=function(e){return"[object Number]"===n.call(e)},s.infinite=function(e){return e===1/0||e===-1/0},s.decimal=function(e){return s.number(e)&&!i(e)&&!s.infinite(e)&&e%1!=0},s.divisibleBy=function(e,t){var r=s.infinite(e),n=s.infinite(t),o=s.number(e)&&!i(e)&&s.number(t)&&!i(t)&&0!==t;return r||n||o&&e%t==0},s.int=function(e){return s.number(e)&&!i(e)&&e%1==0},s.maximum=function(e,t){if(i(e))throw new TypeError("NaN is not a valid value");if(!s.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e<t[r])return!1;return!0},s.minimum=function(e,t){if(i(e))throw new TypeError("NaN is not a valid value");if(!s.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e>t[r])return!1;return!0},s.nan=function(e){return!s.number(e)||e!=e},s.even=function(e){return s.infinite(e)||s.number(e)&&e==e&&e%2==0},s.odd=function(e){return s.infinite(e)||s.number(e)&&e==e&&e%2!=0},s.ge=function(e,t){if(i(e)||i(t))throw new TypeError("NaN is not a valid value");return!s.infinite(e)&&!s.infinite(t)&&e>=t},s.gt=function(e,t){if(i(e)||i(t))throw new TypeError("NaN is not a valid value");return!s.infinite(e)&&!s.infinite(t)&&e>t},s.le=function(e,t){if(i(e)||i(t))throw new TypeError("NaN is not a valid value");return!s.infinite(e)&&!s.infinite(t)&&e<=t},s.lt=function(e,t){if(i(e)||i(t))throw new TypeError("NaN is not a valid value");return!s.infinite(e)&&!s.infinite(t)&&e<t},s.within=function(e,t,r){if(i(e)||i(t)||i(r))throw new TypeError("NaN is not a valid value");if(!s.number(e)||!s.number(t)||!s.number(r))throw new TypeError("all arguments must be numbers");return s.infinite(e)||s.infinite(t)||s.infinite(r)||e>=t&&e<=r},s.object=function(e){return e&&"[object Object]"===n.call(e)},s.hash=function(e){return s.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},s.regexp=function(e){return"[object RegExp]"===n.call(e)},s.string=function(e){return"[object String]"===n.call(e)}}),mu=Object.prototype.hasOwnProperty,_u=Object.prototype.toString,Eu=function(e,t,r){if("[object Function]"!==_u.call(t))throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var i=0;i<n;i++)t.call(r,e[i],i,e);else for(var o in e)mu.call(e,o)&&t.call(r,e[o],o,e)},ku=r(function(e){!function(){var t,r=Object.prototype.hasOwnProperty,n=wu,i=Eu,o=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];t=function(e){if(!n.object(e)&&!n.array(e))throw new TypeError("Object.keys called on a non-object");var t,a=[];for(t in e)r.call(e,t)&&a.push(t);return o&&i(s,function(t){r.call(e,t)&&a.push(t)}),a},e.exports=t}()}),Su=Object.keys||ku,xu=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)};var Ru=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];if(xu(r))for(var n=Su(r),i=0;i<n.length;i++){var o=n[i];e[o]=r[o]}}return e};function Tu(e,t,r,n){var i={type:e,key:t,value:r,options:n};return n&&n.prefix&&(i.prefix=n.prefix,delete n.prefix),this._operations.push(i),this}function ju(e){this._operations=[],this._sdb=e,this.put=Tu.bind(this,"put"),this.del=Tu.bind(this,"del")}var Bu=ju.prototype;Bu.clear=function(){this._operations=[]},Bu.write=function(e){this._sdb.batch(this._operations,e)};var Ou=ju,Au=r(function(e){var t=sn.EventEmitter;function r(e,t,n){if("string"==typeof n&&(console.error("db.sublevel(name, seperator<string>) is depreciated"),console.error("use db.sublevel(name, {sep: separator})) if you must"),n={sep:n}),!(this instanceof r))return new r(e,t,n);if(!e)throw new Error("must provide db");if(!t)throw new Error("must provide prefix");(n=n||{}).sep=n.sep||"ÿ",this._parent=e,this._options=n,this.options=n,this._prefix=t,this._root=i(this),e.sublevels[t]=this,this.sublevels={},this.methods={};var o=this;this.hooks={pre:function(){return o.pre.apply(o,arguments)},post:function(){return o.post.apply(o,arguments)}}}(0,ce.inherits)(r,t);var n=r.prototype;function i(e){return e._parent?i(e._parent):e}n._key=function(e){var t=this._options.sep;return t+this._prefix+t+e},n._getOptsAndCb=function(e,t){return"function"==typeof e&&(t=e,e={}),{opts:Ru(e,this._options),cb:t}},n.sublevel=function(e,t){return this.sublevels[e]?this.sublevels[e]:new r(this,e,t||this._options)},n.put=function(e,t,r,n){var i=this._getOptsAndCb(r,n);this._root.put(this.prefix(e),t,i.opts,i.cb)},n.get=function(e,t,r){var n=this._getOptsAndCb(t,r);this._root.get(this.prefix(e),n.opts,n.cb)},n.del=function(e,t,r){var n=this._getOptsAndCb(t,r);this._root.del(this.prefix(e),n.opts,n.cb)},n.batch=function(e,t,r){if(!Array.isArray(e))return new Ou(this);var n=this,i=this._getOptsAndCb(t,r);e.forEach(function(e){"string"==typeof e.prefix?e.key=e.prefix+e.key:e.key=(e.prefix||n).prefix(e.key),e.prefix&&(e.prefix=null)}),this._root.batch(e,i.opts,i.cb)},n._getKeyEncoding=function(){return this.options.keyEncoding?this.options.keyEncoding:this._parent&&this._parent._getKeyEncoding?this._parent._getKeyEncoding():void 0},n._getValueEncoding=function(){return this.options.valueEncoding?this.options.valueEncoding:this._parent&&this._parent._getValueEncoding?this._parent._getValueEncoding():void 0},n.prefix=function(e){var t=this._options.sep;return this._parent.prefix()+t+this._prefix+t+(e||"")},n.keyStream=n.createKeyStream=function(e){return(e=e||{}).keys=!0,e.values=!1,this.createReadStream(e)},n.valueStream=n.createValueStream=function(e){return(e=e||{}).keys=!1,e.values=!0,e.keys=!1,this.createReadStream(e)},n.readStream=n.createReadStream=function(e){e=e||{};var t=i(this),r=this.prefix(),n=bu.prefix(e,r);!function(e,t){["valueEncoding","encoding","keyEncoding","reverse","values","keys","limit","fillCache"].forEach(function(r){t.hasOwnProperty(r)&&(e[r]=t[r])})}(n,Ru(e,this._options));var o=t.createReadStream(n);if(!1===n.values){var s;if(s=o.read)o.read=function(e){var t=s.call(this,e);return t&&(t=t.substring(r.length)),t};else{var a=o.emit;o.emit=function(e,t){"data"===e?a.call(this,"data",t.substring(r.length)):a.call(this,e,t)}}return o}return!1===n.keys?o:((s=o.read)?o.read=function(e){var t=s.call(this,e);return t&&(t.key=t.key.substring(r.length)),t}:o.on("data",function(e){e.key=e.key.substring(r.length)}),o)},n.writeStream=n.createWriteStream=function(){var e=i(this),t=this.prefix(),r=e.createWriteStream.apply(e,arguments),n=r.write,o=this._options.encoding,s=this._options.valueEncoding,a=this._options.keyEncoding,u=!o&&!s&&!a;return r.write=u?function(e){return e.key=t+e.key,n.call(r,e)}:function(e){return e.key=t+e.key,o&&void 0===e.encoding&&(e.encoding=o),s&&void 0===e.valueEncoding&&(e.valueEncoding=s),a&&void 0===e.keyEncoding&&(e.keyEncoding=a),n.call(r,e)},r},n.approximateSize=function(){var e=i(db);return e.approximateSize.apply(e,arguments)},n.pre=function(e,t){t||(t=e,e=null),e=bu.prefix(e,this.prefix(),this._options.sep);var r=i(this._parent),n=this.prefix();return r.hooks.pre(vu(e),function(e,r,i){t({key:e.key.substring(n.length),value:e.value,type:e.type},function(e,t){r(e,e.prefix?t:t||n)},i)})},n.post=function(e,t){t||(t=e,e=null);var r=i(this._parent),n=this.prefix();return e=bu.prefix(e,n,this._options.sep),r.hooks.post(vu(e),function(e){t({key:e.key.substring(n.length),value:e.value,type:e.type})})};e.exports=r}),Lu=(sn.EventEmitter,process.nextTick,function(e,t){function r(){}r.prototype=e;var n=new r;if(n.sublevel)return n;var i=(t=t||{}).sep=t.sep||"ÿ";function o(e){return function(t){return(t=vu(t=t||{})).reverse?t.start=t.start||i:t.end=t.end||i,e.call(n,t)}}n._options=t,function(e){if(!e.hooks){var t=[],r=[];e.hooks={post:function(e,r){r||(r=e,e="");var n={test:bu.checker(e),hook:r};return t.push(n),a(t,n)},pre:function(e,t){t||(t=e,e="");var n={test:bu.checker(e),hook:t,safe:!1!==e.safe};return r.push(n),a(r,n)},posthooks:t,prehooks:r},e.on("put",function(e,t){u({type:"put",key:e,value:t})}),e.on("del",function(e,t){u({type:"del",key:e,value:t})}),e.on("batch",function(e){e.forEach(u)});var n=e.put,i=e.del,o=e.batch;e.put=function(e,t,r,n){return c(!1,[{key:e,value:t,type:"put"}],r,n)},e.del=function(e,t,r){return c(!1,[{key:e,type:"del"}],t,r)},e.batch=function(e,t,r){return c(!0,e,t,r)}}function s(e){return e&&("string"==typeof e?e:"string"==typeof e.prefix?e.prefix:"function"==typeof e.prefix?e.prefix():"")}function a(e,t){return function(){var r=e.indexOf(t);return!!~r&&(e.splice(r,1),!0)}}function u(e){e&&e.type&&t.forEach(function(t){t.test(e.key)&&t.hook(e)})}function c(t,a,u,c){try{a.forEach(function e(t,n){r.forEach(function(r){if(r.test(String(t.key))){var i={add:function(t,i){if(void 0===t)return this;if(!1===t)return delete a[n];var o=s(t.prefix)||s(i)||r.prefix||"";if(o&&(t.prefix=o),t.key=o+t.key,r.safe&&r.test(String(t.key)))throw new Error("prehook cannot insert into own range");var u=t.keyEncoding||function(e){if(e&&e._getKeyEncoding)return e._getKeyEncoding(e)}(t.prefix),c=t.valueEncoding||function(e){if(e&&e._getValueEncoding)return e._getValueEncoding(e)}(t.prefix);return u&&(t.keyEncoding=u),c&&(t.valueEncoding=c),a.push(t),e(t,a.length-1),this},put:function(e,t){return"object"==typeof e&&(e.type="put"),this.add(e,t)},del:function(e,t){return"object"==typeof e&&(e.type="del"),this.add(e,t)},veto:function(){return this.add(!1)}};r.hook.call(i,t,i.add,a)}})})}catch(e){return(c||u)(e)}if(1==(a=a.filter(function(e){return e&&e.type})).length&&!t){var f=a[0];return"put"==f.type?n.call(e,f.key,f.value,u,c):i.call(e,f.key,u,c)}return o.call(e,a,u,c)}}(n),n.sublevels={},n.sublevel=function(e,t){return n.sublevels[e]?n.sublevels[e]:new Au(n,e,t||this._options)},n.methods={},n.prefix=function(e){return""+(e||"")},n.pre=function(e,t){return t||(t=e,e={max:i}),n.hooks.pre(e,t)},n.post=function(e,t){return t||(t=e,e={max:i}),n.hooks.post(e,t)},n.readStream=n.createReadStream=o(n.createReadStream),n.keyStream=n.createKeyStream=o(n.createKeyStream),n.valuesStream=n.createValueStream=o(n.createValueStream);var s=n.batch;return n.batch=function(e,t,r){if(!Array.isArray(e))return new Ou(n);e.forEach(function(e){e.prefix&&("function"==typeof e.prefix.prefix?e.key=e.prefix.prefix(e.key):"string"==typeof e.prefix&&(e.key=e.prefix+e.key))}),s.call(n,e,t,r)},n}),Mu=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Du=r(function(e,t){var r=ht.Buffer,n=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var i=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!n(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function o(e){return e.toString(this.encoding)}function s(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}i.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},i.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},i.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}}),Cu=(Du.StringDecoder,qu),Iu=ht.Buffer;qu.ReadableState=Wu;var Nu,Pu=sn.EventEmitter;Pu.listenerCount||(Pu.listenerCount=function(e,t){return e.listeners(t).length}),tn.inherits=nn;var Uu=ce;function Wu(e,t){var r=Xu,n=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Nu||(Nu=Du.StringDecoder),this.decoder=new Nu(e.encoding),this.encoding=e.encoding)}function qu(e){if(!(this instanceof qu))return new qu(e);this._readableState=new Wu(e,this),this.readable=!0,an.call(this)}function Fu(e,t,r,n,i){var o=function(e,t){var r=null;tn.isBuffer(t)||tn.isString(t)||tn.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(tn.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Ku(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ku(e)),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Uu("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)}))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}Uu=Uu&&Uu.debuglog?Uu.debuglog("stream"):function(){},tn.inherits(qu,an),qu.prototype.push=function(e,t){var r=this._readableState;return tn.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new Iu(e,t),t=""),Fu(this,r,e,t,!1)},qu.prototype.unshift=function(e){return Fu(this,this._readableState,e,"",!0)},qu.prototype.setEncoding=function(e){return Nu||(Nu=Du.StringDecoder),this._readableState.decoder=new Nu(e),this._readableState.encoding=e,this};var zu=8388608;function Vu(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||tn.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=zu)e=zu;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function Ku(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Uu("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick(function(){Yu(e)}):Yu(e))}function Yu(e){Uu("emit readable"),e.emit("readable"),Hu(e)}function Hu(e){var t=e._readableState;if(Uu("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function $u(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!e||e>=i)r=o?n.join(""):Iu.concat(n,i),n.length=0;else{if(e<n[0].length)r=(f=n[0]).slice(0,e),n[0]=f.slice(e);else if(e===n[0].length)r=n.shift();else{r=o?"":new Iu(e);for(var a=0,u=0,c=n.length;u<c&&a<e;u++){var f=n[0],l=Math.min(e-a,f.length);o?r+=f.slice(0,l):f.copy(r,a,0,l),l<f.length?n[0]=f.slice(l):n.shift(),a+=l}}}return r}function Gu(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}qu.prototype.read=function(e){Uu("read",e);var t=this._readableState,r=e;if((!tn.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Uu("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Gu(this):Ku(this),null;if(0===(e=Vu(e,t))&&t.ended)return 0===t.length&&Gu(this),null;var n,i=t.needReadable;return Uu("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Uu("length less than watermark",i=!0),(t.ended||t.reading)&&Uu("reading or ended",i=!1),i&&(Uu("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=Vu(r,t)),n=e>0?$u(e,t):null,tn.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&Gu(this),tn.isNull(n)||this.emit("data",n),n},qu.prototype._read=function(e){this.emit("error",new Error("not implemented"))},qu.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Uu("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:u;function o(e){Uu("onunpipe"),e===r&&u()}function s(){Uu("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;Uu("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&Pu.listenerCount(e,"data")&&(t.flowing=!0,Hu(e))}}(r);function u(){Uu("cleanup"),e.removeListener("close",l),e.removeListener("finish",h),e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),r.removeListener("data",c),!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}function c(t){Uu("ondata"),!1===e.write(t)&&(Uu("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function f(t){Uu("onerror",t),d(),e.removeListener("error",f),0===Pu.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",h),d()}function h(){Uu("onfinish"),e.removeListener("close",l),d()}function d(){Uu("unpipe"),r.unpipe(e)}return e.on("drain",a),r.on("data",c),e._events&&e._events.error?Mu(e._events.error)?e._events.error.unshift(f):e._events.error=[f,e._events.error]:e.on("error",f),e.once("close",l),e.once("finish",h),e.emit("pipe",r),n.flowing||(Uu("pipe resume"),r.resume()),e},qu.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},qu.prototype.on=function(e,t){var r=an.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&Ku(this);else{var i=this;process.nextTick(function(){Uu("readable nexttick read 0"),i.read(0)})}}return r},qu.prototype.addListener=qu.prototype.on,qu.prototype.resume=function(){var e=this._readableState;return e.flowing||(Uu("resume"),e.flowing=!0,e.reading||(Uu("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),Hu(e),t.flowing&&!t.reading&&e.read(0)}(e,t)}))}(this,e)),this},qu.prototype.pause=function(){return Uu("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Uu("pause"),this._readableState.flowing=!1,this.emit("pause")),this},qu.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(Uu("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(Uu("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length))&&(n.push(i)||(r=!0,e.pause()))}),e)tn.isFunction(e[i])&&tn.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){Uu("wrapped _read",t),r&&(r=!1,e.resume())},n},qu._fromList=$u;var Xu=Zu,Ju=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Zu(e){if(!(this instanceof Zu))return new Zu(e);Cu.call(this,e),ec.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Qu)}function Qu(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}tn.inherits=nn,tn.inherits(Zu,Cu),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(Ju(ec.prototype),function(e){Zu.prototype[e]||(Zu.prototype[e]=ec.prototype[e])});var ec=ic,tc=ht.Buffer;function rc(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function nc(e,t){var r=Xu,n=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){r?process.nextTick(function(){t.pendingcb--,i(n)}):(t.pendingcb--,i(n));e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=uc(e,r);o||r.corked||r.bufferProcessing||!r.buffer.length||ac(e,r),n?process.nextTick(function(){sc(e,r,o,i)}):sc(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function ic(e){if(!(this instanceof ic||this instanceof Xu))return new ic(e);this._writableState=new nc(e,this),this.writable=!0,an.call(this)}function oc(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function sc(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),fc(e,t)}function ac(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,oc(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)}),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var i=t.buffer[n],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(oc(e,t,!1,u,o,s,a),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function uc(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function cc(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function fc(e,t){var r=uc(0,t);return r&&(0===t.pendingcb?(cc(e,t),t.finished=!0,e.emit("finish")):cc(e,t)),r}ic.WritableState=nc,tn.inherits=nn,tn.inherits(ic,an),ic.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},ic.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return tn.isFunction(t)&&(r=t,t=null),tn.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),tn.isFunction(r)||(r=function(){}),n.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){r(n)})}(this,0,r):function(e,t,r,n){var i=!0;if(!(tn.isBuffer(r)||tn.isString(r)||tn.isNullOrUndefined(r)||t.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){n(o)}),i=!1}return i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&tn.isString(t)&&(t=new tc(t,r)),t}(t,r,n),tn.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new rc(r,n,i)):oc(e,t,!1,o,r,n,i);return s}(this,n,e,t,r)),i},ic.prototype.cork=function(){this._writableState.corked++},ic.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||ac(this,e))},ic.prototype._write=function(e,t,r){r(new Error("not implemented"))},ic.prototype._writev=null,ic.prototype.end=function(e,t,r){var n=this._writableState;tn.isFunction(e)?(r=e,e=null,t=null):tn.isFunction(t)&&(r=t,t=null),tn.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,fc(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)};var lc=ec,hc=pc;function dc(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,tn.isNullOrUndefined(r)||e.push(r);i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function pc(e){if(!(this instanceof pc))return new pc(e);Xu.call(this,e),this._transformState=new dc(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){tn.isFunction(this._flush)?this._flush(function(e){gc(t,e)}):gc(t)})}function gc(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}tn.inherits=nn,tn.inherits(pc,Xu),pc.prototype.push=function(e,t){return this._transformState.needTransform=!1,Xu.prototype.push.call(this,e,t)},pc.prototype._transform=function(e,t,r){throw new Error("not implemented")},pc.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},pc.prototype._read=function(e){var t=this._transformState;tn.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))};var bc=yc;function yc(e){if(!(this instanceof yc))return new yc(e);hc.call(this,e)}tn.inherits=nn,tn.inherits(yc,hc),yc.prototype._transform=function(e,t,r){r(null,e)};var vc=r(function(e,t){(t=e.exports=Cu).Stream=an,t.Readable=t,t.Writable=ec,t.Duplex=Xu,t.Transform=hc,t.PassThrough=bc,process.browser||"disable"!==process.env.READABLE_STREAM||(e.exports=an)}),wc=(vc.Stream,vc.Readable,vc.Writable,vc.Duplex,vc.Transform,vc.PassThrough,function(e){var t=e.reverse,r=e.end,n=e.start,i=[n,r];return null!=n&&null!=r&&i.sort(),t&&(i=i.reverse()),e.start=i[0],e.end=i[1],e}),mc=r(function(e,t){function r(e,t,r){t.limit=t.reverse?2:1;!function(e,t,r){var n=[];t.forEach(function(t){function i(e){!1!==r(t,e)&&n.forEach(function(e){e()})}e.on(t,i),n.push(function(){e.removeListener(t,i)})})}(e.createReadStream(t),["data","error","end"],function(e,n){if(t.reverse&&n&&t.start&&n.key.toString()>t.start)return!1;"error"==e?r(n):"end"==e?r(new Error("range not found"),null,null):r(null,n.key,n.value)})}(t=e.exports=r).first=function(e,t,n){n||(n=t,t={});return t.reverse=!1,r(e,wc(t),n)},t.last=function(e,t,n){n||(n=t,t={});t.start;return t.reverse=!0,r(e,wc(t),function(i,o,s){if(i){var a=t.start;t.start=null,r(e,t,function(e,r,o){if(!r)return n(i,null,null);var s=r.toString();s<=a&&(!t.end||s>=t.end)?n(e,r,o):n(i,null,null)})}else n(i,o,s)})}}),_c=(mc.first,mc.last,function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){n[e]=t[e]});return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}});var Ec=_c(Sc),kc=_c(xc);function Sc(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function xc(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}Sc.proto=Sc(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Sc(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return xc(this)},configurable:!0})}),Ec.strict=kc;var Rc=new Buffer(0),Tc={encode:function(e){return"string"==typeof e?e=new Buffer(e):e},decode:function(e){return Buffer.isBuffer(e)?e:new Buffer(e)},buffer:!0,type:"raw"},jc=function(){},Bc=function(e){return e=e.toString(16),"00000000".slice(0,-e.length)+e},Oc=function(e,t){t||(t={});var r={},n=t.blockSize||65536,i=t.batch||100,o=new Buffer(n);e.put("\0","ignore",jc);var s={},a=function(t,r,i,o,a){var u=function(){--s[t].locks||delete s[t]},c=function(e){if(e.locks++,!e.block&&!r)return e.block=i,void a(null,e.block,u);var t,s,c;e.block||(e.block=new Buffer(n)),e.block.length<r+i.length&&(e.block=(t=e.block,s=r+i.length,c=new Buffer(s),t.copy(c),c)),i.copy(e.block,r),!o&&r+i.length<e.block.length&&(e.block=e.block.slice(0,r+i.length)),a(null,e.block,u)};if(s[t])return c(s[t]);e.get(t,{valueEncoding:Tc},function(e,r){if(e&&!e.notFound)return a(e);s[t]||(s[t]={locks:0,block:r}),c(s[t])})},u=function(e,t){if(!(this instanceof u))return new u(e,t);t||(t={}),this.name=e,this.blocks=[],this.batch=[],this.bytesWritten=0,this.truncate=!t.append,this.append=t.append,this._shouldInitAppend=this.append&&void 0===t.start,this._destroyed=!1,this._init(t.start||0),lc.call(this)};ce.inherits(u,lc),u.prototype._init=function(e){this.blockIndex=e/n|0,this.blockOffset=e-this.blockIndex*n,this.blockLength=this.blockOffset},u.prototype._flush=function(t){if(!this.batch.length)return t();var r=this.batch[this.batch.length-1].key,n=this.batch;if(this.batch=[],!this.truncate)return e.batch(n,t);this.truncate=!1,this._truncate(n,r,t)},u.prototype._truncate=function(t,r,n){n=Ec(n);var i=[],o=e.createKeyStream({start:r,end:this.name+"ÿÿ"});o.on("error",n),o.on("data",function(e){i.push({type:"del",key:e})}),o.on("end",function(){i.push.apply(i,t),e.batch(i,n)})},u.prototype._writeBlock=function(e){var t=1===this.blocks.length?this.blocks[0]:Buffer.concat(this.blocks,this.blockLength-this.blockOffset),r=this.blockIndex,o=this.blockOffset,s=this;this.blockOffset=0,this.blockLength=0,this.blockIndex++,this.blocks=[];var u=this.name+"ÿ"+Bc(r),c=function(e,t,r){return e.length&&s.batch.push({type:"put",key:u,value:e,valueEncoding:Tc}),!t&&s.batch.length<i?r():s._flush(r)};return(o||t.length!==n)&&(o||this.append)?void a(u,o,t,this.append,function(t,r,n){if(t)return e(t);c(r,!0,function(t){n(),e(t)})}):c(t,!1,e)},u.prototype._initAppend=function(e,t,n){var i=this;this._shouldInitAppend=!1,r.size(this.name,function(r,o){if(r)return n(r);i._init(o),i._write(e,t,n)})},u.prototype._write=function(e,t,r){if(!e.length||this._destroyed)return r();if(this._shouldInitAppend)return this._initAppend(e,t,r);var i,o=this,s=n-this.blockLength,a=function(e){return e?r(e):i?o._write(i,t,r):void r()};if(e.length>s&&(i=e.slice(s),e=e.slice(0,s)),this.bytesWritten+=e.length,this.blockLength+=e.length,this.blocks.push(e),e.length<s)return a();this._writeBlock(a)},u.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,process.nextTick(this.emit.bind(this,"close")))},u.prototype.end=function(e){var t=this,r=arguments;e&&"function"!=typeof e&&(this.write(e),e=Rc),this.write(Rc,function(){t._writeBlock(function(e){if(e)return t.emit("error",e);t._flush(function(e){if(e)return t.emit("error",e);lc.prototype.end.apply(t,r)})})})};var c=function(t,r){r||(r={});var i=this,s=r.start||0,a=s/n|0,u=s-a*n,c=t+"ÿ"+Bc(a);this.name=t,this._missing=("number"==typeof r.end?r.end:1/0)-s+1,this._paused=!1,this._destroyed=!1,this._reader=e.createReadStream({start:c,end:t+"ÿÿ",valueEncoding:Tc});var f=function(e){return c=t+"ÿ"+Bc(++a),!!i._missing&&(!(!u||(e=e.slice(u),u=0,e.length))||(e.length>i._missing&&(e=e.slice(0,i._missing)),i._missing-=e.length,i._pause(!i.push(e)),!!i._missing))};this._reader.on("data",function(e){for(;e.key>c;)if(!f(o))return;f(e.value)}),this._reader.on("error",function(e){i.emit("error",e)}),this._reader.on("end",function(){i.push(null)}),vc.call(this)};return ce.inherits(c,vc),c.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._reader.destroy(),process.nextTick(this.emit.bind(this,"close")))},c.prototype._pause=function(e){this._paused!==e&&(this._paused=e,this._paused?this._reader.pause():this._reader.resume())},c.prototype._read=function(){this._pause(!1)},r.remove=function(t,r){r=Ec(r||jc);var n=[],i=e.createKeyStream({start:t+"ÿ",end:t+"ÿÿ"});i.on("error",r),i.on("data",function(e){n.push({type:"del",key:e})}),i.on("end",function(){e.batch(n,r)})},r.size=function(t,r){mc.last(e,{start:t+"ÿ",end:t+"ÿÿ",valueEncoding:Tc},function(e,i,o){return e&&"range not found"===e.message?r(null,0):e?r(e):i.slice(0,t.length+1)!==t+"ÿ"?r(null,0):void r(null,parseInt(i.toString().slice(t.length+1),16)*n+o.length)})},r.write=function(e,t,n,i){if("function"==typeof n)return r.write(e,t,null,n);n||(n={}),i||(i=jc);var o=r.createWriteStream(e,n);o.on("error",i),o.on("finish",function(){i()}),o.write(t),o.end()},r.read=function(e,t,n){if("function"==typeof t)return r.read(e,null,t);t||(t={});var i=r.createReadStream(e,t),o=[];i.on("error",n),i.on("data",function(e){o.push(e)}),i.on("end",function(){n(null,1===o.length?o[0]:Buffer.concat(o))})},r.createReadStream=function(e,t){return new c(e,t)},r.createWriteStream=function(e,t){return new u(e,t)},r},Ac=function(e,t){return parseInt(e.toString(),t||8)},Lc=r(function(e,t){Object.keys(nr.code).forEach(function(e){var r=nr.code[e];t[e]=function(t){var n=new Error(e+", "+r.description+(t?" '"+t+"'":""));return n.errno=r.errno,n.code=e,n.path=t,n}})}),Mc=r(function(e){"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process}),Dc=(Mc.nextTick,{}.toString),Cc=Array.isArray||function(e){return"[object Array]"==Dc.call(e)},Ic=an,Nc=r(function(e,t){var r=ht.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=ht:(n(ht,t),t.Buffer=i),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return ht.SlowBuffer(e)}}),Pc=(Nc.Buffer,r(function(e){var t=Nc.Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return t.alloc(0);if(1===this.length)return this.head.data;for(var r,n,i,o=t.allocUnsafe(e>>>0),s=this.head,a=0;s;)r=s.data,n=o,i=a,r.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),ce&&ce.inspect&&ce.inspect.custom&&(e.exports.prototype[ce.inspect.custom]=function(){var e=ce.inspect({length:this.length});return this.constructor.name+" "+e})}));function Uc(e,t){e.emit("error",t)}var Wc=function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||Mc.nextTick(Uc,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(Mc.nextTick(Uc,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},qc=function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},Fc=ce.deprecate,zc=Qc;function Vc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}var Kc,Yc=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Mc.nextTick;Qc.WritableState=Zc,tn.inherits=nn;var Hc,$c={deprecate:Fc},Gc=Nc.Buffer,Xc=t.Uint8Array||function(){};function Jc(){}function Zc(e,t){e=e||{};var r=t instanceof(Kc=Kc||uf);this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(Mc.nextTick(i,n),Mc.nextTick(sf,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),sf(e,t))}(e,r,n,t,i);else{var o=nf(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||rf(e,r),n?Yc(tf,e,r,o,i):tf(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Vc(this)}function Qc(e){if(Kc=Kc||uf,!(Hc.call(Qc,this)||this instanceof Kc))return new Qc(e);this._writableState=new Zc(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Ic.call(this)}function ef(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function tf(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),sf(e,t)}function rf(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,ef(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Vc(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback;if(ef(e,t,!1,t.objectMode?1:u.length,u,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function nf(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function of(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),sf(e,t)})}function sf(e,t){var r=nf(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,Mc.nextTick(of,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}tn.inherits(Qc,Ic),Zc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(Zc.prototype,"buffer",{get:$c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Hc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Qc,Symbol.hasInstance,{value:function(e){return!!Hc.call(this,e)||this===Qc&&(e&&e._writableState instanceof Zc)}})):Hc=function(e){return e instanceof this},Qc.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Qc.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,Gc.isBuffer(n)||n instanceof Xc);return s&&!Gc.isBuffer(e)&&(e=function(e){return Gc.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=Jc),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),Mc.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Mc.nextTick(n,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Gc.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else ef(e,t,!1,a,n,i,o);return u}(this,i,s,e,t,r)),o},Qc.prototype.cork=function(){this._writableState.corked++},Qc.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||rf(this,e))},Qc.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Qc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Qc.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Qc.prototype._writev=null,Qc.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,sf(e,t),r&&(t.finished?Mc.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(Qc.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Qc.prototype.destroy=Wc,Qc.prototype._undestroy=qc,Qc.prototype._destroy=function(e,t){this.end(),t(e)};var af=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},uf=hf;tn.inherits=nn,tn.inherits(hf,Bf);for(var cf=af(zc.prototype),ff=0;ff<cf.length;ff++){var lf=cf[ff];hf.prototype[lf]||(hf.prototype[lf]=zc.prototype[lf])}function hf(e){if(!(this instanceof hf))return new hf(e);Bf.call(this,e),zc.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",df)}function df(){this.allowHalfOpen||this._writableState.ended||Mc.nextTick(pf,this)}function pf(e){e.end()}Object.defineProperty(hf.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(hf.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),hf.prototype._destroy=function(e,t){this.push(null),this.end(),Mc.nextTick(t,e)};var gf=Nc.Buffer,bf=gf.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var yf=vf;function vf(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(gf.isEncoding===bf||!bf(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=_f,this.end=Ef,t=4;break;case"utf8":this.fillLast=mf,t=4;break;case"base64":this.text=kf,this.end=Sf,t=3;break;default:return this.write=xf,void(this.end=Rf)}this.lastNeed=0,this.lastTotal=0,this.lastChar=gf.allocUnsafe(t)}function wf(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function mf(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function _f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Ef(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function kf(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Sf(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function xf(e){return e.toString(this.encoding)}function Rf(e){return e&&e.length?this.write(e):""}vf.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},vf.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},vf.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=wf(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=wf(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=wf(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},vf.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var Tf,jf={StringDecoder:yf},Bf=Nf;Nf.ReadableState=If;sn.EventEmitter;var Of=function(e,t){return e.listeners(t).length},Af=Nc.Buffer,Lf=t.Uint8Array||function(){};tn.inherits=nn;var Mf,Df=void 0;Df=ce&&ce.debuglog?ce.debuglog("stream"):function(){},tn.inherits(Nf,Ic);var Cf=["error","close","destroy","pause","resume"];function If(e,t){e=e||{};var r=t instanceof(Tf=Tf||uf);this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Pc,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Mf||(Mf=jf.StringDecoder),this.decoder=new Mf(e.encoding),this.encoding=e.encoding)}function Nf(e){if(Tf=Tf||uf,!(this instanceof Nf))return new Nf(e);this._readableState=new If(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Ic.call(this)}function Pf(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Ff(e)}(e,s)):(i||(o=function(e,t){var r;n=t,Af.isBuffer(n)||n instanceof Lf||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===Af.prototype||(t=function(e){return Af.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Uf(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?Uf(e,s,t,!1):Vf(e,s)):Uf(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function Uf(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ff(e)),Vf(e,t)}Object.defineProperty(Nf.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Nf.prototype.destroy=Wc,Nf.prototype._undestroy=qc,Nf.prototype._destroy=function(e,t){this.push(null),t(e)},Nf.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Af.from(e,t),t=""),r=!0),Pf(this,e,t,!1,r)},Nf.prototype.unshift=function(e){return Pf(this,e,null,!0,!1)},Nf.prototype.isPaused=function(){return!1===this._readableState.flowing},Nf.prototype.setEncoding=function(e){return Mf||(Mf=jf.StringDecoder),this._readableState.decoder=new Mf(e),this._readableState.encoding=e,this};var Wf=8388608;function qf(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=Wf?e=Wf:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function Ff(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Df("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Mc.nextTick(zf,e):zf(e))}function zf(e){Df("emit readable"),e.emit("readable"),$f(e)}function Vf(e,t){t.readingMore||(t.readingMore=!0,Mc.nextTick(Kf,e,t))}function Kf(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Df("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function Yf(e){Df("readable nexttick read 0"),e.read(0)}function Hf(e,t){t.reading||(Df("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),$f(e),t.flowing&&!t.reading&&e.read(0)}function $f(e){var t=e._readableState;for(Df("flow",t.flowing);t.flowing&&null!==e.read(););}function Gf(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=Af.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function Xf(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Mc.nextTick(Jf,t,e))}function Jf(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Zf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Nf.prototype.read=function(e){Df("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Df("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Xf(this):Ff(this),null;if(0===(e=qf(e,t))&&t.ended)return 0===t.length&&Xf(this),null;var n,i=t.needReadable;return Df("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Df("length less than watermark",i=!0),t.ended||t.reading?Df("reading or ended",i=!1):i&&(Df("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=qf(r,t))),null===(n=e>0?Gf(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Xf(this)),null!==n&&this.emit("data",n),n},Nf.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Nf.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Df("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:p;function o(t,i){Df("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,Df("cleanup"),e.removeListener("close",h),e.removeListener("finish",d),e.removeListener("drain",a),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",p),r.removeListener("data",f),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a())}function s(){Df("onend"),e.end()}n.endEmitted?Mc.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;Df("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&Of(e,"data")&&(t.flowing=!0,$f(e))}}(r);e.on("drain",a);var u=!1;var c=!1;function f(t){Df("ondata"),c=!1,!1!==e.write(t)||c||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Zf(n.pipes,e))&&!u&&(Df("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function l(t){Df("onerror",t),p(),e.removeListener("error",l),0===Of(e,"error")&&e.emit("error",t)}function h(){e.removeListener("finish",d),p()}function d(){Df("onfinish"),e.removeListener("close",h),p()}function p(){Df("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Cc(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",h),e.once("finish",d),e.emit("pipe",r),n.flowing||(Df("pipe resume"),r.resume()),e},Nf.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=Zf(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Nf.prototype.on=function(e,t){var r=Ic.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ff(this):Mc.nextTick(Yf,this))}return r},Nf.prototype.addListener=Nf.prototype.on,Nf.prototype.resume=function(){var e=this._readableState;return e.flowing||(Df("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Mc.nextTick(Hf,e,t))}(this,e)),this},Nf.prototype.pause=function(){return Df("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Df("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Nf.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(Df("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(Df("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Cf.length;o++)e.on(Cf[o],this.emit.bind(this,Cf[o]));return this._read=function(t){Df("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(Nf.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Nf._fromList=Gf;var Qf=tl;function el(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function tl(e){if(!(this instanceof tl))return new tl(e);uf.call(this,e),this._transformState={afterTransform:el.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",rl)}function rl(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){nl(e,t,r)}):nl(this,null,null)}function nl(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}tn.inherits=nn,tn.inherits(tl,uf),tl.prototype.push=function(e,t){return this._transformState.needTransform=!1,uf.prototype.push.call(this,e,t)},tl.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},tl.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},tl.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},tl.prototype._destroy=function(e,t){var r=this;uf.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})};var il=ol;function ol(e){if(!(this instanceof ol))return new ol(e);Qf.call(this,e)}tn.inherits=nn,tn.inherits(ol,Qf),ol.prototype._transform=function(e,t,r){r(null,e)};var sl=r(function(e,t){"disable"===process.env.READABLE_STREAM&&an?(e.exports=an,(t=e.exports=an.Readable).Readable=an.Readable,t.Writable=an.Writable,t.Duplex=an.Duplex,t.Transform=an.Transform,t.PassThrough=an.PassThrough,t.Stream=an):((t=e.exports=Bf).Stream=an||t,t.Readable=t,t.Writable=zc,t.Duplex=uf,t.Transform=Qf,t.PassThrough=il)}),al=(sl.Readable,sl.Writable,sl.Duplex,sl.Transform,sl.PassThrough,sl.Stream,Object.prototype.toString),ul="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;var cl=function(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return n=e,"ArrayBuffer"===al.call(n).slice(8,-1)?function(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=n;else if((r>>>=0)>n)throw new RangeError("'length' is out of bounds");return ul?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,t,r):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return ul?Buffer.from(e,t):new Buffer(e,t)}(e,t):ul?Buffer.from(e):new Buffer(e);var n},fl=r(function(e,t){var r,n,i,o=void 0,s=1e5,a=(r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,{Class:function(e){return r.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return n.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),u=Math.LN2,c=Math.abs,f=Math.floor,l=Math.log,h=Math.min,d=Math.pow,p=Math.round;function g(e){if(b&&i){var t,r=b(e);for(t=0;t<r.length;t+=1)i(e,r[t],{value:e[r[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return a.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),a.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),a.HasProperty(r,"value")&&(e[t]=r.value),e};var b=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)a.HasOwnProperty(e,t)&&r.push(t);return r};function y(e){if(i){if(e.length>s)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)r(t)}function r(t){i(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}}function v(e,t){var r=32-t;return e<<r>>r}function w(e,t){var r=32-t;return e<<r>>>r}function m(e){return[255&e]}function _(e){return v(e[0],8)}function E(e){return[255&e]}function k(e){return w(e[0],8)}function S(e){return[(e=p(Number(e)))<0?0:e>255?255:255&e]}function x(e){return[e>>8&255,255&e]}function R(e){return v(e[0]<<8|e[1],16)}function T(e){return[e>>8&255,255&e]}function j(e){return w(e[0]<<8|e[1],16)}function B(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function O(e){return v(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function A(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function L(e){return w(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function M(e,t,r){var n,i,o,s,a,p,g,b=(1<<t-1)-1;function y(e){var t=f(e),r=e-t;return r<.5?t:r>.5?t+1:t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=d(2,r-1),n=0):e===1/0||e===-1/0?(i=(1<<t)-1,o=0,n=e<0?1:0):0===e?(i=0,o=0,n=1/e==-1/0?1:0):(n=e<0,(e=c(e))>=d(2,1-b)?(i=h(f(l(e)/u),1023),(o=y(e/d(2,i)*d(2,r)))/d(2,r)>=2&&(i+=1,o=1),i>b?(i=(1<<t)-1,o=0):(i+=b,o-=d(2,r))):(i=0,o=y(e/d(2,1-b-r)))),a=[],s=r;s;s-=1)a.push(o%2?1:0),o=f(o/2);for(s=t;s;s-=1)a.push(i%2?1:0),i=f(i/2);for(a.push(n?1:0),a.reverse(),p=a.join(""),g=[];p.length;)g.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return g}function D(e,t,r){var n,i,o,s,a,u,c,f,l=[];for(n=e.length;n;n-=1)for(o=e[n-1],i=8;i;i-=1)l.push(o%2?1:0),o>>=1;return l.reverse(),s=l.join(""),a=(1<<t-1)-1,u=parseInt(s.substring(0,1),2)?-1:1,c=parseInt(s.substring(1,1+t),2),f=parseInt(s.substring(1+t),2),c===(1<<t)-1?0!==f?NaN:u*(1/0):c>0?u*d(2,c-a)*(1+f/d(2,r)):0!==f?u*d(2,-(a-1))*(f/d(2,r)):u<0?-0:0}function C(e){return D(e,11,52)}function I(e){return M(e,11,52)}function N(e){return D(e,8,23)}function P(e){return M(e,8,23)}!function(){var e=function(e){if((e=a.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;g(this)};t.ArrayBuffer=t.ArrayBuffer||e;var r=function(){};function n(t,n,i){var s;return(s=function(t,r,n){var i,o,u,c;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===s)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)this._setter(u,i._getter(u));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=a.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(o=arguments[0],this.length=a.ToUint32(o.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)c=o[u],this._setter(u,Number(c));else{if(this.length=a.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=s,g(this),y(this)}).prototype=new r,s.prototype.BYTES_PER_ELEMENT=t,s.prototype._pack=n,s.prototype._unpack=i,s.BYTES_PER_ELEMENT=t,s.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return o;var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)},s.prototype.get=s.prototype._getter,s.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return o;var r,n,i=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]},s.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,o,s,u,c,f,l,h;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=a.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(f=this.byteOffset+i*this.BYTES_PER_ELEMENT,l=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(h=[],s=0,u=r.byteOffset;s<l;s+=1,u+=1)h[s]=r.buffer._bytes[u];for(s=0,c=f;s<l;s+=1,c+=1)this.buffer._bytes[c]=h[s]}else for(s=0,u=r.byteOffset,c=f;s<l;s+=1,u+=1,c+=1)this.buffer._bytes[c]=r.buffer._bytes[u]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],o=a.ToUint32(n.length),(i=a.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)u=n[s],this._setter(i+s,Number(u))}},s.prototype.subarray=function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=a.ToInt32(e),t=a.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)},s}var i=n(1,m,_),s=n(1,E,k),u=n(1,S,k),c=n(2,x,R),f=n(2,T,j),l=n(4,B,O),h=n(4,A,L),d=n(4,P,N),p=n(8,I,C);t.Int8Array=t.Int8Array||i,t.Uint8Array=t.Uint8Array||s,t.Uint8ClampedArray=t.Uint8ClampedArray||u,t.Int16Array=t.Int16Array||c,t.Uint16Array=t.Uint16Array||f,t.Int32Array=t.Int32Array||l,t.Uint32Array=t.Uint32Array||h,t.Float32Array=t.Float32Array||d,t.Float64Array=t.Float64Array||p}(),function(){function e(e,t){return a.IsCallable(e.get)?e.get(t):e[t]}var r,n=(r=new t.Uint16Array([4660]),18===e(new t.Uint8Array(r.buffer),0)),i=function(e,r,n){if(0===arguments.length)e=new t.ArrayBuffer(0);else if(!(e instanceof t.ArrayBuffer||"ArrayBuffer"===a.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.ArrayBuffer(0),this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=a.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");g(this)};function o(r){return function(i,o){if((i=a.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var s,u=new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT),c=[];for(s=0;s<r.BYTES_PER_ELEMENT;s+=1)c.push(e(u,s));return Boolean(o)===Boolean(n)&&c.reverse(),e(new r(new t.Uint8Array(c).buffer),0)}}function s(r){return function(i,o,s){if((i=a.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var u,c=new r([o]),f=new t.Uint8Array(c.buffer),l=[];for(u=0;u<r.BYTES_PER_ELEMENT;u+=1)l.push(e(f,u));Boolean(s)===Boolean(n)&&l.reverse(),new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT).set(l)}}i.prototype.getUint8=o(t.Uint8Array),i.prototype.getInt8=o(t.Int8Array),i.prototype.getUint16=o(t.Uint16Array),i.prototype.getInt16=o(t.Int16Array),i.prototype.getUint32=o(t.Uint32Array),i.prototype.getInt32=o(t.Int32Array),i.prototype.getFloat32=o(t.Float32Array),i.prototype.getFloat64=o(t.Float64Array),i.prototype.setUint8=s(t.Uint8Array),i.prototype.setInt8=s(t.Int8Array),i.prototype.setUint16=s(t.Uint16Array),i.prototype.setInt16=s(t.Int16Array),i.prototype.setUint32=s(t.Uint32Array),i.prototype.setInt32=s(t.Int32Array),i.prototype.setFloat32=s(t.Float32Array),i.prototype.setFloat64=s(t.Float64Array),t.DataView=t.DataView||i}()}),ll=(fl.ArrayBuffer,fl.Int8Array,fl.Uint8Array,fl.Uint8ClampedArray,fl.Int16Array,fl.Uint16Array,fl.Int32Array,fl.Uint32Array,fl.Float32Array,fl.Float64Array,fl.DataView,sl.Writable);if("undefined"==typeof Uint8Array)var hl=fl.Uint8Array;else hl=Uint8Array;function dl(e,t){if(!(this instanceof dl))return new dl(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var r=e.encoding,n=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):n=!0,ll.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=n,t&&this.on("finish",function(){t(this.getBody())}),this.body=[]}var pl=dl;function gl(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}nn(dl,ll),dl.prototype._write=function(e,t,r){this.body.push(e),r()},dl.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},dl.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"string"==typeof n?t.push(n):Buffer.isBuffer(n)?t.push(n):gl(n)?t.push(cl(n)):t.push(cl(String(n)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];Buffer.isBuffer(n)?t.push(n):gl(n)?t.push(cl(n)):t.push(cl(String(n)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=cl(e[r])),t+=e[r].length;for(var n=new hl(t),r=0,i=0;r<e.length;r++)for(var o=e[r],s=0;s<o.length;s++)n[i++]=o[s];return n}(this.body):this.body):[]};var bl=function(e){return e?"string"==typeof e?new Date(e):e:new Date},yl=function(e){this.uid=e.uid||0,this.gid=e.gid||0,this.mode=e.mode||0,this.size=e.size||0,this.mtime=bl(e.mtime),this.atime=bl(e.atime),this.ctime=bl(e.ctime),this.type=e.type,this.target=e.target,this.link=e.link,this.blob=e.blob};yl.prototype.isDirectory=function(){return"directory"===this.type},yl.prototype.isFile=function(){return"file"===this.type},yl.prototype.isBlockDevice=function(){return!1},yl.prototype.isCharacterDevice=function(){return!1},yl.prototype.isSymbolicLink=function(){return"symlink"===this.type},yl.prototype.isFIFO=function(){return!1},yl.prototype.isSocket=function(){return!1};var vl=function(e){return new yl(e)},wl=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)};var ml=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];if(wl(r))for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e};var _l=vl({type:"directory",mode:Ac(777),size:4096}),El=function(e){return e="/"===e[0]?e:"/"+e,"/"===(e=$i.normalize(e))?e:"/"===e[e.length-1]?e.slice(0,-1):e},kl=function(e){var t=e.split("/").length.toString(36);return"0000000000".slice(t.length)+t+e},Sl=function(e){var t={};t.normalize=El,t.get=function(t,r){if("/"===(t=El(t)))return process.nextTick(r.bind(null,null,_l,"/"));e.get(kl(t),{valueEncoding:"json"},function(e,n){return e&&e.notFound?r(Lc.ENOENT(t),null,t):e?r(e,null,t):void r(null,vl(n),t)})},t.writable=function(e,r){if("/"===(e=El(e)))return process.nextTick(r.bind(null,Lc.EPERM(e)));t.follow($i.dirname(e),function(t,n){return t?r(t):n.isDirectory()?void r(null,e):r(Lc.ENOTDIR(e))})},t.list=function(t,r){t=El(t);var n=kl("/"===t?t:t+"/"),i=e.createKeyStream({start:n,end:n+"ÿ"});r=Ec(r),i.on("error",r),i.pipe(pl({encoding:"object"},function(e){e=e.map(function(e){return e.split("/").pop()}),r(null,e)}))};return t.follow=function(e,r){!function(e,r){var n="/",i=e.split("/").slice(1),o=function(){t.get($i.join(n,i.shift()),function(t,s,a){return t?r(t,s,e):(n=s.target||a,i.length?void o():r(null,s,a))})};o()}(El(e),function e(n,i,o){return n?r(n,null,o):i.target?t.get(i.target,e):void r(null,vl(i),o)})},t.update=function(e,r,n){t.get(e,function(e,i,o){return e?n(e):"/"===o?n(Lc.EPERM(o)):void t.put(o,ml(i,r),n)})},t.put=function(r,n,i){t.writable(r,function(t,r){if(t)return i(t);e.put(kl(r),vl(n),{valueEncoding:"json"},i)})},t.del=function(t,r){if("/"===(t=El(t)))return process.nextTick(r.bind(null,Lc.EPERM(t)));e.del(kl(t),r)},t},xl=function(e,t,r){process.nextTick(function(){e(t,r)})},Rl=function(){},Tl=function(e,t){var r={};e=Lu(e);var n=Oc(e.sublevel("blobs"),t),i=Sl(e.sublevel("stats")),o=e.sublevel("links"),s=function(){var e={},t=new sn.EventEmitter;return t.watch=function(t,r){return e[t]||(e[t]=new sn.EventEmitter,e[t].setMaxListeners(0)),r&&e[t].on("change",r),e[t]},t.watcher=function(e,r){var n=new sn.EventEmitter,i=function(){n.emit("change","change",e)};return t.watch(e,i),r&&n.on("change",r),n.close=function(){t.unwatch(e,i)},n},t.unwatch=function(t,r){e[t]&&(r?e[t].removeListener("change",r):e[t].removeAllListeners("change"),e[t].listeners("change").length||delete e[t])},t.change=function(r){e[r]&&e[r].emit("change"),t.emit("change",r)},t.cb=function(e,r){return function(n,i){e&&t.change(e),r&&r(n,i)}},t}(),a=[],u=Date.now();r.mkdir=function(e,t,n){if("function"==typeof t)return r.mkdir(e,null,t);t||(t=Ac(777)),n||(n=Rl),i.follow(e,function(e,r,o){return e&&"ENOENT"!==e.code?n(e):r?n(Lc.EEXIST(o)):void i.put(o,{type:"directory",mode:t,size:4096},s.cb(o,n))})},r.rmdir=function(e,t){t||(t=Rl),i.follow(e,function(e,n,o){if(e)return t(e);r.readdir(o,function(e,r){return e?t(e):r.length?t(Lc.ENOTEMPTY(o)):void i.del(o,s.cb(o,t))})})},r.readdir=function(e,t){i.follow(e,function(e,r,n){return e?t(e):r?r.isDirectory()?void i.list(n,t):t(Lc.ENOTDIR(n)):t(Lc.ENOENT(n))})};var c=function(e,t,r){t(e,function(e,t,i){if(e)return r(e);if(!t.isFile())return r(null,t);var o=t&&t.blob||i;n.size(o,function(e,n){if(e)return r(e);t.size=n,r(null,t)})})};r.stat=function(e,t){c(e,i.follow,t)},r.lstat=function(e,t){c(e,i.get,t)},r.exists=function(e,t){i.follow(e,function(e){t(!e)})};var f=function(e,t,r,n){n||(n=Rl),t(e,function(e,t,o){if(e)return n(e);i.update(o,{mode:r},s.cb(o,n))})};r.chmod=function(e,t,r){f(e,i.follow,t,r)},r.lchmod=function(e,t,r){f(e,i.get,t,r)};var l=function(e,t,r,n,o){o||(o=Rl),t(e,function(e,t,a){if(e)return o(e);i.update(a,{uid:r,gid:n},s.cb(a,o))})};return r.chown=function(e,t,r,n){l(e,i.follow,t,r,n)},r.lchown=function(e,t,r,n){l(e,i.get,t,r,n)},r.utimes=function(e,t,r,n){n||(n=Rl),i.follow(e,function(e,o,a){if(e)return n(e);var u={};t&&(u.atime=t),r&&(u.mtime=r),i.update(a,u,s.cb(a,n))})},r.rename=function(e,t,n){n||(n=Rl),i.follow(e,function(e,o,a){if(e)return n(e);var u=function(){n=s.cb(t,s.cb(a,n)),i.put(t,o,function(e){if(e)return n(e);i.del(a,n)})};i.follow(t,function(e,t,i){return e&&"ENOENT"!==e.code?n(e):t?o.isDirectory()!==t.isDirectory()?n(Lc.EISDIR(a)):void(t.isDirectory()?r.readdir(i,function(e,t){return e?n(e):t.length?n(Lc.ENOTEMPTY(a)):void u()}):u()):u()})})},r.realpath=function(e,t,n){if("function"==typeof t)return r.realpath(e,null,t);i.follow(e,function(e,t,r){if(e)return n(e);n(null,r)})},r.writeFile=function(e,t,o,a){if("function"==typeof o)return r.writeFile(e,t,null,o);"string"==typeof o&&(o={encoding:o}),o||(o={}),a||(a=Rl),Buffer.isBuffer(t)||(t=new Buffer(t,o.encoding||"utf-8"));var u=o.flags||"w";o.append="w"!==u[0],i.follow(e,function(e,r,c){if(e&&"ENOENT"!==e.code)return a(e);if(r&&r.isDirectory())return a(Lc.EISDIR(c));if(r&&"x"===u[1])return a(Lc.EEXIST(c));var f=r&&r.blob||c;i.writable(c,function(e){if(e)return a(e);n.write(f,t,o,function(e){if(e)return a(e);i.put(c,{ctime:r&&r.ctime,mtime:new Date,mode:o.mode||Ac(666),type:"file"},s.cb(c,a))})})})},r.appendFile=function(e,t,n,i){if("function"==typeof n)return r.appendFile(e,t,null,n);"string"==typeof n&&(n={encoding:n}),n||(n={}),n.flags="a",r.writeFile(e,t,n,i)},r.unlink=function(e,t){t||(t=Rl),i.get(e,function(e,r,a){if(e)return t(e);if(r.isDirectory())return t(Lc.EISDIR(a));var u=function(e){mc(o,{start:e+"ÿ",end:e+"ÿÿ"},function(r){if(r)return n.remove(e,t);t()})};i.del(a,s.cb(a,function(e){return e?t(e):r.link?(n=r.link.slice(0,r.link.indexOf("ÿ")),void o.del(r.link,function(e){if(e)return t(e);u(n)})):void o.del(a+"ÿ",function(e){if(e)return t(e);u(a)});var n}))})},r.readFile=function(e,t,o){if("function"==typeof t)return r.readFile(e,null,t);"string"==typeof t&&(t={encoding:t}),t||(t={}),t.encoding,t.flag,i.follow(e,function(e,r,i){if(e)return o(e);if(r.isDirectory())return o(Lc.EISDIR(i));var s=r&&r.blob||i;n.read(s,function(e,r){if(e)return o(e);o(null,t.encoding?r.toString(t.encoding):r)})})},r.createReadStream=function(e,t){t||(t={});var r=!1,o=gu.readable(function(s){i.follow(e,function(e,i,a){if(e)return s(e);if(i.isDirectory())return s(Lc.EISDIR(a));var u=i&&i.blob||a,c=n.createReadStream(u,t);o.emit("open"),c.on("end",function(){process.nextTick(function(){r||o.emit("close")})}),s(null,c)})});return o.on("close",function(){r=!0}),o},r.createWriteStream=function(e,t){t||(t={});var r=t.flags||"w",o=!1,a=t.mode||Ac(666);t.append="a"===r[0];var u=gu.writable(function(c){i.follow(e,function(e,f,l){if(e&&"ENOENT"!==e.code)return c(e);if(f&&f.isDirectory())return c(Lc.EISDIR(l));if(f&&"x"===r[1])return c(Lc.EEXIST(l));var h=f&&f.blob||l;i.writable(h,function(e){if(e)return c(e);var r={ctime:f?f.ctime:new Date,mtime:new Date,mode:a,type:"file"};i.put(l,r,function(e){if(e)return c(e);var a=n.createWriteStream(h,t);u.emit("open"),a.on("finish",function(){r.mtime=new Date,i.put(l,r,function(){s.change(l),o||u.emit("close")})}),c(null,a)})})})});return u.on("close",function(){o=!0}),u},r.truncate=function(e,t,r){i.follow(e,function(e,o,a){if(e)return r(e);var u=o&&o.blob||a;n.size(u,function(e,o){if(e)return r(e);i.writable(a,function(e){if(e)return r(e);if(r=Ec(s.cb(a,r)),!t)return n.remove(u,r);var i=n.createWriteStream(u,{start:o<t?t-1:t});i.on("error",r),i.on("finish",r),o<t&&i.write(new Buffer([0])),i.end()})})})},r.watchFile=function(e,t,n){return"function"==typeof t?r.watchFile(e,null,t):s.watch(i.normalize(e),n)},r.unwatchFile=function(e,t){s.unwatch(i.normalize(e),t)},r.watch=function(e,t,n){return"function"==typeof t?r.watch(e,null,t):s.watcher(i.normalize(e),n)},r.notify=function(e){s.on("change",e)},r.open=function(e,t,o,u){if("function"==typeof o)return r.open(e,t,null,o);i.follow(e,function(e,r,c){if(e&&"ENOENT"!==e.code)return u(e);var f=t[0],l="+"===t[1]||"+"===t[2],h=r&&r.blob||c,d={key:c,blob:h,mode:o||Ac(666),readable:"r"===f||("w"===f||"a"===f)&&l,writable:"w"===f||"a"===f||"r"===f&&l,append:"a"===f};return"r"===f&&e?u(e):"x"===t[1]&&r?u(Lc.EEXIST(c)):r&&r.isDirectory()?u(Lc.EISDIR(c)):void n.size(h,function(e,t){if(e)return u(e);d.append&&(d.writePos=t),i.writable(c,function(e){if(e)return u(e);var t=function(e){if(e)return u(e);var t=a.indexOf(null);-1===t&&(t=10+a.push(a.length+10)-1),d.fd=t,a[t]=d,s.change(c),u(null,d.fd)},o=function(e){return e?u(e):r?t():void i.put(h,{ctime:r&&r.ctime,type:"file"},t)};if(!d.append&&d.writable)return n.remove(h,o);o()})})})},r.close=function(e,t){var r=a[e];if(!r)return xl(t,Lc.EBADF());a[e]=null,xl(s.cb(r.key,t))},r.write=function(e,t,r,i,o,s){var u=a[e];if(s||(s=Rl),!u||!u.writable)return xl(s,Lc.EBADF());null===o&&(o=u.writePos||0);var c=t.slice(r,r+i);u.writePos=o+c.length,n.write(u.blob,c,{start:o,append:!0},function(e){if(e)return s(e);s(null,i,t)})},r.read=function(e,t,i,o,s,u){var c=a[e];if(u||(u=Rl),!c||!c.readable)return xl(u,Lc.EBADF());null===s&&(s=r.readPos||0),n.read(c.blob,{start:s,end:s+o-1},function(e,n){if(e)return u(e);var a=n.slice(0,o);a.copy(t,i),r.readPos=s+a.length,u(null,a.length,t)})},r.fsync=function(e,t){var r=a[e];if(t||(t=Rl),!r||!r.writable)return xl(t,Lc.EBADF());xl(t)},r.ftruncate=function(e,t,n){var i=a[e];if(n||(n=Rl),!i)return xl(n,Lc.EBADF());r.truncate(i.blob,t,n)},r.fchown=function(e,t,n,i){var o=a[e];if(i||(i=Rl),!o)return xl(i,Lc.EBADF());r.chown(o.key,t,n,i)},r.fchmod=function(e,t,n){var i=a[e];if(n||(n=Rl),!i)return xl(n,Lc.EBADF());r.chmod(i.key,t,n)},r.futimes=function(e,t,n,i){var o=a[e];if(i||(i=Rl),!o)return xl(i,Lc.EBADF());r.utimes(o.key,t,n,i)},r.fstat=function(e,t){var n=a[e];if(!n)return xl(t,Lc.EBADF());r.stat(n.key,t)},r.symlink=function(e,t,r){r||(r=Rl),i.follow(e,function(e,n,o){if(e)return r(e);i.get(t,function(e,n){return e&&"ENOENT"!==e.code?r(e):n?r(Lc.EEXIST(t)):void i.put(t,{type:"symlink",target:o,mode:Ac(777)},r)})})},r.readlink=function(e,t){i.get(e,function(r,n){return r?t(r):n.target?void t(null,n.target):t(Lc.EINVAL(e))})},r.link=function(e,t,r){r||(r=Rl),i.follow(e,function(e,n,s){return e?r(e):n.isFile()?void i.get(t,function(e,a){if(e&&"ENOENT"!==e.code)return r(e);if(a)return r(Lc.EEXIST(t));var c=s+"ÿ"+ ++u;o.put(s+"ÿ",s,function(e){if(e)return r(e);o.put(c,s,function(e){if(e)return r(e);i.put(t,{type:"file",link:c,blob:s,mode:n.mode},r)})})}):r(Lc.EINVAL(s))})},r}(Sa("level-filesystem",{db:Rt}));function jl(e){return!function(e){return!Array.isArray(e)}(e)&&0===e.length}function Bl(e){return null==e}function Ol(e){return!Bl(e)&&e.constructor===Object}function Al(e){return!function(e){return"string"==typeof e||e instanceof String}(e)}function Ll(e){return!Bl(e)&&e.constructor===Number}function Ml(e){if(function(e){return!Ol(e)}(e))return!1;if(0===e.length)return!0;for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dl(e){return!Bl(e)&&(!!function(e){return!Al(e)&&0===e.length}(e)||(!!jl(e)||!!Ml(e)))}function Cl(e){return!Dl(e)}function Il(e){return!function(e){return Tl.existsSync(e)}(e)}const Nl=4.5e-10,Pl=-273.14999999955,Ul=-459.67;function Wl(e){return!function(e){return Ll(e)&&e>=Pl}(e)}function ql(e){return!function(e){return Ll(e)&&e>=Ul}(e)}function Fl(e){return!function(e){return Ll(e)&&e>=Nl}(e)}function zl(e){return Fl(e)&&Wl(e)&&ql(e)}let Vl=(()=>{const e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}];let t={};for(let r=0;r<e.length;r++){const n=e[r].letters;for(let i=0;i<n.length;i++)t[n[i]]=e[r].base}return t})();const Kl=Math.PI,Yl=Math.PI/2,Hl=Math.PI/4,$l=Kl/180,Gl=180/Kl;function Xl(e){return e*Gl}const Jl=1.8,Zl=32,Ql=273.14999999955;return e.DEG_TO_RAD=$l,e.FAHRENHEIT_CELSIUS_COEFFICIENT=Jl,e.FAHRENHEIT_CELSIUS_CONSTANTE=Zl,e.KELVIN_CELSIUS_CONSTANTE=Ql,e.PI=Kl,e.PI_2=Yl,e.PI_4=Hl,e.RAD_TO_DEG=Gl,e.celsiusToFahrenheit=function(e,t){if(zl(e))throw new Error("Require first operand as an temperature in celsius !");const r=Cl(t)&&Ll(t)?t:2;return(e*Jl+Zl).toFixed(r)},e.celsiusToKelvin=function(e,t){if(zl(e))throw new Error("Require first operand as an temperature in celsius !");const r=Cl(t)&&Ll(t)?t:2;return(e+Ql).toFixed(r)},e.classNameify=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.convertWebGLRotationToTopogicalYawPitch=function(e){const t=e;return{yaw:-(Xl((r=t,Math.atan2(r.y,r.x)))-90),pitch:Xl(function(e){return Math.asin(e.z)}(t))};var r},e.createInterval=function(e,t,r){var n=0;setInterval(function(){n>=1?n=0:n+.1>1?n=1:n+=.1;for(var r=t.getLength(),i=n,o=void 0,s=void 0,a=void 0,u=0,c=e.children.length;u<c;u++)s=e.children[u],(o=i/r)>1&&(o=0),(a=t.getPointAt(o)).y+=.1,s.position.copy(a),i+=1},r)},e.degreesFromRadians=function(e){return e*Gl},e.degreesToRadians=function(e){return e*$l},e.diacriticsMap=Vl,e.extend=function e(t,r){let n=void 0;if(Ol(t)&&Bl(r))n=Object.assign({},t);else if(Bl(t)&&Ol(r))n=Object.assign({},r);else if(Ol(t)&&Ol(r)){n=Object.assign({},t);const i=Object.keys(r);for(let o=0,s=i.length;o<s;++o){let s=i[o];Ol(r[s])&&s in t?n[s]=e(t[s],r[s]):Object.assign(n,{[s]:r[s]})}}else n=null;return n},e.extendObject=function e(t,r){if(t.constructor===Function&&r.constructor===Function)t.prototype=new r,t.prototype.parent=r.prototype,t.prototype.constructor=t;else if(t.constructor===Function&&r.constructor===Object)t.prototype=r,t.prototype.parent=r,t.prototype.constructor=t;else if(t.constructor===Object&&r.constructor===Object)for(let n in r)!Object.prototype.hasOwnProperty.call(t,n)||r[n].constructor!==Object&&r[n].constructor!==Array?t[n]=r[n]:t[n]=e(t[n],r[n]);else{if(t.constructor!==Array||r.constructor!==Array)throw t.constructor===Object&&r.constructor===Array||t.constructor===Array&&r.constructor===Object?new Error("Cannot perform extend of object with an array"):new Error("Cannot perform extend given parameters...");t=t.concat(r)}return t},e.fahrenheitToCelsius=function(e,t){if(zl(e))throw new Error("Require first operand as an temperature in fahrenheit !");const r=Cl(t)&&Ll(t)?t:2;return((e-Zl)/Jl).toFixed(r)},e.fahrenheitToKelvin=function(e,t){if(zl(e))throw new Error("Require first operand as an temperature in fahrenheit !");const r=Cl(t)&&Ll(t)?t:2;return((e-Zl)/Jl+Ql).toFixed(r)},e.getFilesPathsUnder=function e(t){const r=(n=t,Array.isArray(n)?t:[t]);var n;let i=[];for(let t=0,n=r.length;t<n;t++){const n=r[t];if(Il(n)){console.error(`The path "${n}" is not valid !`);continue}const s=Tl.statSync(n);if(s.isFile())i.push(n);else if(s.isDirectory()){const t=(o=n,Tl.readdirSync(o)).forEach(t=>{e($i.resolve(n,t))});Array.prototype.push.apply(i,t)}}var o;return i},e.getPitch=function(e){return Math.asin(e.y)},e.getRandomArbitrary=function(e=0,t=1){return Math.random()*(t-e)+e},e.getRandomInt=function(e=0,t=1){return Math.floor(Math.random()*(t-e+1))+e},e.getYaw=function(e){return-Math.atan2(e.x,e.z)},e.kelvinToCelsius=function(e,t){if(zl(e))throw new Error("Require first operand as an temperature in kelvin !");const r=Cl(t)&&Ll(t)?t:2;return(e-Ql).toFixed(r)},e.kelvinToFahrenheit=function(e,t){if(zl(e))throw new Error("Require first operand as an temperature in kelvin !");const r=Cl(t)&&Ll(t)?t:2;return((e-Ql)*Jl+Zl).toFixed(r)},e.radiansFromDegrees=function(e){return e*$l},e.radiansToDegrees=Xl,e.removeDiacritics=function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return Vl[e]||e})},e.serializeObject=function(){},e.sortBy=function(e,t="asc"){const r=e;let n=void 0;if("asc"===t)n=(e,t)=>e[r]<t[r]?-1:e[r]>t[r]?1:0;else{if("desc"!==t)throw"Invalid ascending !";n=(e,t)=>e[r]>t[r]?-1:e[r]<t[r]?1:0}return n},e.toEnum=function(e){return Object.freeze(Object.defineProperties(e,{toString:{configurable:!1,enumerable:!1,writable:!1,value:function(){const e=Object.keys(this);let t="";for(let r=0,n=e.length;r<n;r++)t+=`${e[r]}, `;return t=t.slice(0,-2)}},includes:{configurable:!1,enumerable:!1,writable:!1,value:function(e){return Object.values(this).includes(e)}},types:{configurable:!1,enumerable:!1,writable:!1,value:function(){return Object.keys(this)}}}))},e.uniq=function(e){const t={};return e.filter(e=>!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=!0))},e}({});
//# sourceMappingURL=itee-utils.iife.min.js.map
